"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["190"],{770:function(e,t,l){l.r(t),l.d(t,{default:()=>f});var n=l("2885"),a=l("798");let r={class:"date-picker"},i=(0,n.aZ)({__name:"index",props:{modelValue:{},pickerProps:{},showValueformat:{type:Function}},emits:["update:modelValue"],setup(e,t){let{emit:l}=t,i=(e,t)=>("year"===e&&(t.text+="年"),"month"===e&&(t.text+="月"),"day"===e&&(t.text+="日"),t),o=(0,n.Fl)(()=>{var t;let l=(null==e?void 0:null===(t=e.pickerProps)||void 0===t?void 0:t.formatter)||i;return{...null==e?void 0:e.pickerProps,formatter:l}}),[u,c]=(0,a.$)(!1),d=()=>{c(!0)},[s,v]=(0,a.$)(e.modelValue);(0,n.YP)(()=>e.modelValue,e=>{v(e)},{immediate:!0});let[m,f]=(0,a.$)("");(0,n.YP)(s,e=>{f(e||"")},{immediate:!0});let[p,g]=(0,a.$)(e.modelValue);(0,n.YP)(s,e=>{g(e||"")},{immediate:!0});let h=(0,n.Fl)({get:()=>p.value?p.value.split("-"):[],set:e=>g(e.join("-"))}),w=e=>{l("update:modelValue",e.join("-"))},y=e=>{let{selectedValues:t}=e;w(t),c(!1)};return(e,t)=>{let l=(0,n.up)("van-date-picker"),a=(0,n.up)("van-popup");return(0,n.wg)(),(0,n.iD)("div",r,[(0,n.WI)(e.$slots,"trigger",{triggerPopupShow:d,showValue:(0,n.SU)(m),selectedOption:e.selectedOption}),(0,n.Wm)(a,{show:(0,n.SU)(u),"onUpdate:show":t[2]||(t[2]=e=>(0,n.dq)(u)?u.value=e:null),position:"bottom",round:""},{default:(0,n.w5)(()=>[(0,n.Wm)(l,(0,n.dG)(o.value,{modelValue:h.value,"onUpdate:modelValue":t[0]||(t[0]=e=>h.value=e),onConfirm:y,onCancel:t[1]||(t[1]=e=>(0,n.SU)(c)(!1))}),null,16,["modelValue"])]),_:1},8,["show"])])}}});var o=l("6521");let u=(0,o.default)(i,[["__scopeId","data-v-12c71cd6"]]);var c=l("6537");let d={class:"trigger-box"},s=(0,n.aZ)({__name:"BasicUsage",setup(e){let t=[{name:"选项1",value:"1"},{name:"选项2",value:"2"}],l={text:"name",value:"value"},[r,i]=(0,a.$)(void 0);return(e,a)=>((0,n.wg)(),(0,n.j4)(u,{modelValue:(0,n.SU)(r),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.dq)(r)?r.value=e:null),"picker-props":{title:"基础用法",columns:t,columnsFieldNames:l}},{trigger:(0,n.w5)(e=>{let{triggerPopupShow:t,showValue:l}=e;return[(0,n._)("div",d,[(0,n.Wm)((0,n.SU)(c.zx),{type:"primary",onClick:t},{default:(0,n.w5)(()=>a[1]||(a[1]=[(0,n.Uk)(" 点击打开选择器\uD83E\uDD2A ")])),_:2,__:[1]},1032,["onClick"]),(0,n._)("p",null,"show value: "+(0,n.zw)(l),1),(0,n._)("p",null,"modelValue: "+(0,n.zw)((0,n.SU)(r)),1)])]}),_:1},8,["modelValue","picker-props"]))}}),v=(0,o.default)(s,[["__scopeId","data-v-6d6cc602"]]),m=(0,n.aZ)({__name:"index",setup:e=>(e,t)=>{let l=(0,n.up)("demo-block");return(0,n.wg)(),(0,n.j4)(l,{title:"基础用法"},{default:(0,n.w5)(()=>[(0,n.Wm)(v)]),_:1})}}),f=m},6537:function(e,t,l){l.d(t,{zx:()=>h});var n=l("5284"),a=l("2885"),r=l("8134"),i=l("7710"),o=l("792"),u=l("8429"),c=l("5507"),d=l("1107"),s=l("677"),v=l("8681");let[m,f]=(0,r.do)("button"),p=(0,i.l7)({},d.g2,{tag:(0,o.SQ)("button"),text:String,icon:String,type:(0,o.SQ)("default"),size:(0,o.SQ)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,o.SQ)("button"),loadingSize:o.Or,loadingText:String,loadingType:String,iconPosition:(0,o.SQ)("left")});var g=(0,a.aZ)({name:m,props:p,emits:["click"],setup(e,{emit:t,slots:l}){let n=(0,d.yj)(),r=()=>l.loading?l.loading():(0,a.Wm)(v.gb,{size:e.loadingSize,type:e.loadingType,class:f("loading")},null),i=()=>e.loading?r():l.icon?(0,a.Wm)("div",{class:f("icon")},[l.icon()]):e.icon?(0,a.Wm)(s.JO,{name:e.icon,class:f("icon"),classPrefix:e.iconPrefix},null):void 0,o=()=>{let t;if(t=e.loading?e.loadingText:l.default?l.default():e.text)return(0,a.Wm)("span",{class:f("text")},[t])},m=()=>{let{color:t,plain:l}=e;if(t){let e={color:l?t:"white"};return!l&&(e.background=t),t.includes("gradient")?e.border=0:e.borderColor=t,e}},p=l=>{e.loading?(0,u.PF)(l):!e.disabled&&(t("click",l),n())};return()=>{let{tag:t,type:l,size:n,block:r,round:u,plain:d,square:s,loading:v,disabled:g,hairline:h,nativeType:w,iconPosition:y}=e,S=[f([l,n,{plain:d,block:r,round:u,square:s,loading:v,disabled:g,hairline:h}]),{[c._K]:h}];return(0,a.Wm)(t,{type:w,class:S,style:m(),disabled:g,onClick:p},{default:()=>[(0,a.Wm)("div",{class:f("content")},["left"===y&&i(),o(),"right"===y&&i()])]})}}});let h=(0,n.n)(g)},8681:function(e,t,l){l.d(t,{gb:()=>p});var n=l("5284"),a=l("2885"),r=l("8134"),i=l("792"),o=l("7710"),u=l("5868");let[c,d]=(0,r.do)("loading"),s=Array(12).fill(null).map((e,t)=>(0,a.Wm)("i",{class:d("line",String(t+1))},null)),v=(0,a.Wm)("svg",{class:d("circular"),viewBox:"25 25 50 50"},[(0,a.Wm)("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),m={size:i.Or,type:(0,i.SQ)("circular"),color:String,vertical:Boolean,textSize:i.Or,textColor:String};var f=(0,a.aZ)({name:c,props:m,setup(e,{slots:t}){let l=(0,a.Fl)(()=>(0,o.l7)({color:e.color},(0,u.Xn)(e.size))),n=()=>{let n="spinner"===e.type?s:v;return(0,a.Wm)("span",{class:d("spinner",e.type),style:l.value},[t.icon?t.icon():n])},r=()=>{var l;if(t.default)return(0,a.Wm)("span",{class:d("text"),style:{fontSize:(0,u.Nn)(e.textSize),color:null!=(l=e.textColor)?l:e.color}},[t.default()])};return()=>{let{type:t,vertical:l}=e;return(0,a.Wm)("div",{class:d([t,{vertical:l}]),"aria-live":"polite","aria-busy":!0},[n(),r()])}}});let p=(0,n.n)(f)},798:function(e,t,l){let n,a,r,i,o,u,c,d,s;l.d(t,{$:function(){return f}});var v,m=l(2885);function f(e){let t=(0,m.iH)(e);return[t,e=>{t.value=e}]}Symbol("GLOBAL_OPTIONS_PROVIDE_KEY");let p=e=>Array.isArray(e),g=e=>null!==e&&"object"==typeof e,h=e=>e instanceof Function,w=e=>null==e,y=typeof window>"u",S=()=>{var e;return!!(y||w(null===(e=window.document)||void 0===e?void 0:e.visibilityState))||"visible"===window.document.visibilityState},x=()=>{var e,t;return null===(e=!y&&(null===(t=window.navigator)||void 0===t?void 0:t.onLine))||void 0===e||e},T=e=>(0,m.dq)(e)?e.value:e,E=new Map,b=e=>w(e)?void 0:E.get(e),_=(e,t,l)=>{let n=E.get(e);null!=n&&n.timer&&clearTimeout(n.timer);let a=setTimeout(()=>E.delete(e),t);E.set(e,{...l,timer:a})};function F(e,t,l){let n,a,r,i,o,u,c=0,d=!1,s=!1,v=!0,m=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw TypeError("Expected a function");function f(t){let l=n,r=a;return n=a=void 0,c=t,i=e.apply(r,l)}function p(e,t){return m?(window.cancelAnimationFrame(o),window.requestAnimationFrame(e)):setTimeout(e,t)}t=+t||0,g(l)&&(d=!!l.leading,r=(s="maxWait"in l)?Math.max(+l.maxWait||0,t):r,v="trailing"in l?!!l.trailing:v);function h(e){let l=e-u,n=e-c;return void 0===u||l>=t||l<0||s&&n>=r}function w(){let e=Date.now();if(h(e))return y(e);o=p(w,function(e){let l=e-u,n=e-c,a=t-l;return s?Math.min(a,r-n):a}(e))}function y(e){return o=void 0,v&&n?f(e):(n=a=void 0,i)}function S(){let e=Date.now(),l=h(e);for(var r,v=arguments.length,m=Array(v),g=0;g<v;g++)m[g]=arguments[g];if(n=m,a=this,u=e,l){if(void 0===o){;return c=r=u,o=p(w,t),d?f(r):i}if(s)return o=p(w,t),f(u)}return void 0===o&&(o=p(w,t)),i}return S.cancel=function(){void 0!==o&&function(e){if(m)return window.cancelAnimationFrame(e);clearTimeout(e)}(o),c=0,n=u=a=o=void 0},S.flush=function(){return void 0===o?i:y(Date.now())},S.pending=function(){return void 0!==o},S}n=(e,t)=>{let{debounceInterval:l,debounceOptions:n,manual:a}=t,r=(0,m.iH)(!1),i=(0,m.iH)(),o=(0,m.Fl)(()=>n),u=(0,m.Fl)(()=>T(l)),c=(0,m.iH)(e.context.runAsync);return a||(r.value=!0),(0,m.m0)(t=>{w(u.value)||(i.value=F(e=>e(),u.value,o.value),e.context.runAsync=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return new Promise((e,l)=>{r.value?(r.value=!1,c.value(...t).then(e).catch(l)):i.value(()=>{c.value(...t).then(e).catch(l)})})},t(()=>{var t;null===(t=i.value)||void 0===t||t.cancel(),e.context.runAsync=c.value}))}),{onCancel(){var e;null===(e=i.value)||void 0===e||e.cancel()}}},a=(e,t)=>{let{errorRetryCount:l=0,errorRetryInterval:n=0}=t,a=(0,m.iH)(),r=(0,m.iH)(0),i=(0,m.Fl)(()=>T(l)),o=(0,m.Fl)(()=>T(n)),u=!1,c=()=>{r.value=0},d=(0,m.Fl)(()=>o.value?o.value:1e3*Math.floor(Math.random()*2**Math.min(r.value,9)+1)),s=()=>{let t;let l=-1===i.value,n=r.value<i.value;return(l||n)&&(l||(r.value+=1),t=setTimeout(()=>{u=!0,e.context.refresh()},d.value)),()=>t&&clearTimeout(t)},v=()=>{a.value&&a.value()};return{onBefore(){u||c(),u=!1,v()},onSuccess(){c()},onError(){a.value=s()},onCancel(){c(),v()}}},r=(e,t)=>{let{ready:l=(0,m.iH)(!0),manual:n,defaultParams:a=[]}=t;return(0,m.YP)(l,t=>{!n&&t&&e.context.run(...a)},{flush:"sync"}),{onBefore(){if(!(h(l)?l():l.value))return e.loading.value=!1,{isBreak:!0}}}},i=(e,t)=>{let{refreshDeps:l,refreshDepsAction:n,manual:a}=t;if(void 0===l||p(l)&&0===l.length)return{};let r=p(l)?l:[l];return(0,m.YP)(r,()=>{n?n():a||e.context.refresh()}),{}},o=(e,t)=>{let{throttleInterval:l,throttleOptions:n}=t,a=(0,m.iH)(),r=(0,m.Fl)(()=>T(l)),i=(0,m.Fl)(()=>n),o=(0,m.iH)(e.context.runAsync);return(0,m.m0)(t=>{if(w(l))return{};a.value=function(e,t,l){let n=!0,a=!0;if("function"!=typeof e)throw TypeError("Expected a function");return g(l)&&(n="leading"in l?!!l.leading:n,a="trailing"in l?!!l.trailing:a),F(e,t,{leading:n,trailing:a,maxWait:t})}(e=>e(),r.value,i.value),e.context.runAsync=function(){for(var e=arguments.length,t=Array(e),l=0;l<e;l++)t[l]=arguments[l];return new Promise((e,l)=>{a.value(()=>{o.value(...t).then(e).catch(l)})})},t(()=>{var t;null===(t=a.value)||void 0===t||t.cancel(),e.context.runAsync=o.value})}),{onCancel(){var e;null===(e=a.value)||void 0===e||e.cancel()}}};let P=new Map,k=(e,t)=>{P.set(e,t),t.then(t=>(P.delete(e),t)).catch(()=>{P.delete(e)})},C=e=>P.get(e),W=new Map,I=(e,t)=>{W.has(e)&&W.get(e).forEach(e=>e(t))},B=(e,t)=>(W.has(e)?W.get(e).push(t):W.set(e,[t]),()=>{let l=W.get(e).indexOf(t);W.get(e).splice(l,1)});u=(e,t)=>{let l,{cacheKey:n,cacheTime:a=6e5,staleTime:r=0,getCache:i,setCache:o}=t;if(!n)return{};let u=h(n)?n:()=>n,c=(0,m.iH)(()=>{}),d=e=>i?i(e):b(e),s=(e,t,l)=>{o?o(e,l):_(e,t,l),I(e,l.data)},v=e=>-1===r||e+r>new Date().getTime(),f=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),p=t=>B(u(t),t=>{e.data.value=t}),g=u(),w=d(g);return w&&f(w,"data")&&(e.data.value=w.data,e.params.value=w.params),g&&(c.value=p()),(0,m.SK)(()=>{c.value()}),{onBefore(t){let l=d(u(t));return l&&f(l,"data")?v(l.time)?(e.data.value=l.data,e.loading.value=!1,{isBreak:!0,breakResult:l.data}):void(e.data.value=l.data):{}},onQuery(t){let n=u(e.params.value),a=C(n);return a&&a!==l||(l=a=t(),k(n,a)),()=>a},onSuccess(e,t){let l=u(t);l&&(c.value(),s(l,a,{data:e,params:t,time:new Date().getTime()}),c.value=p(t))},onMutate(t){let l=u(e.params.value);l&&(c.value(),s(l,a,{data:t,params:e.params.value,time:new Date().getTime()}),c.value=p(e.params.value))}}};function O(){return new Date().getTime()}c=(e,t)=>{let{loadingDelay:l=0,loadingKeep:n=0}=t,a=(0,m.iH)(()=>{}),r=(0,m.Fl)(()=>T(l)),i=(0,m.Fl)(()=>T(n)),o=0,u={},c=()=>{let t;return r.value&&(t=setTimeout(()=>{"pending"===e.status.value&&(e.loading.value=!0)},r.value)),()=>t&&clearTimeout(t)};return{onBefore(){e.loading.value=!r.value,a.value(),a.value=c(),o=O()},onQuery(e){var t;let l,n;if(!i.value)return()=>e();t=i.value+r.value,u=new class e extends Promise{constructor(e){super(e),this.cancel=()=>{n(),clearTimeout(l)}}}(e=>{l=setTimeout(n=e,t)});let a=Promise.allSettled([(async()=>{try{let t=await e();return O()-o<=r.value&&u.cancel(),Promise.resolve(t)}catch(e){return O()-o<=r.value&&u.cancel(),Promise.reject(e)}})(),u]).then(e=>{let t=e[0];return"fulfilled"===t.status?t.value:Promise.reject(t.reason)});return()=>a},onCancel(){a.value()},onAfter(){a.value()}}};let A=new Set,V=new Set,L=new Set,H=(e,t)=>{let l;switch(e){case"FOCUS_LISTENER":l=A;break;case"RECONNECT_LISTENER":l=L;break;case"VISIBLE_LISTENER":l=V}if(!l.has(t))return l.add(t),()=>{l.delete(t)}},N=e=>{e.forEach(e=>{e()})};!y&&null!==(v=window)&&void 0!==v&&v.addEventListener&&(window.addEventListener("visibilitychange",()=>{S()&&N(V)},!1),window.addEventListener("focus",()=>N(A),!1),window.addEventListener("online",()=>N(L),!1));d=(e,t)=>{let{pollingInterval:l,pollingWhenHidden:n=!1,pollingWhenOffline:a=!1,errorRetryCount:r=0}=t,i=(0,m.iH)(),o=(0,m.iH)(!1),u=(0,m.Fl)(()=>T(l)),c=(0,m.Fl)(()=>T(r)),d=[],s=e=>{e&&d.push(e)},v=()=>(n||S())&&(a||x()),f=t=>{let l;if(!e.error.value||0===c.value){if(!w(u.value)&&u.value>=0){if(v())l=setTimeout(t,u.value);else{o.value=!0;return}}return()=>l&&clearTimeout(l)}},p=()=>{o.value&&v()&&(e.context.refresh(),o.value=!1)};return(0,m.YP)(u,()=>{i.value&&(i.value(),i.value=f(()=>e.context.refresh()))}),n||s(H("VISIBLE_LISTENER",p)),a||s(H("RECONNECT_LISTENER",p)),(0,m.SK)(()=>{d.forEach(e=>e())}),{onBefore(){var e;null===(e=i.value)||void 0===e||e.call(i)},onCancel(){var e;null===(e=i.value)||void 0===e||e.call(i)},onAfter(){i.value=f(()=>e.context.refresh())}}};let R=(e,t)=>{let l=!1;return function(){l||(l=!0,e(...arguments),setTimeout(()=>{l=!1},t))}};s=(e,t)=>{let{refreshOnWindowFocus:l=!1,refocusTimespan:n=5e3}=t,a=(0,m.Fl)(()=>T(l)),r=(0,m.Fl)(()=>T(n)),i=[],o=e=>{e&&i.push(e)},u=()=>{i.forEach(e=>e())};return(0,m.m0)(()=>{if(u(),a.value){let t=R(e.context.refresh,r.value);o(H("VISIBLE_LISTENER",t)),o(H("FOCUS_LISTENER",t))}}),(0,m.SK)(()=>{u()}),{}}}}]);