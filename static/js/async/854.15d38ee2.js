"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["854"],{8700:function(e,t,a){a.r(t),a.d(t,{default:()=>p});var n=a("2885"),l=a("4923"),r=a("798"),u=a("2498");let i={class:"demo-section"},o=(0,n.aZ)({__name:"BasicUsage",setup(e){let[t]=(0,r.$)("");return(e,a)=>{let r=(0,n.up)("demo-block");return(0,n.wg)(),(0,n.j4)(r,{title:"基础用法"},{default:(0,n.w5)(()=>[(0,n._)("section",i,[a[1]||(a[1]=(0,n._)("span",{class:"demo-section-desc"},"自带默认的 '复制' 按钮展示效果",-1)),(0,n.Wm)((0,n.SU)(u.gN),{label:"文本框",placeholder:"输入内容后点击复制按钮",modelValue:(0,n.SU)(t),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.dq)(t)?t.value=e:null)},{"right-icon":(0,n.w5)(()=>[(0,n.Wm)((0,n.SU)(l.Mq),{txt:(0,n.SU)(t)},null,8,["txt"])]),_:1},8,["modelValue"])])]),_:1})}}});var c=a("6521");let v=(0,c.default)(o,[["__scopeId","data-v-702fe921"]]);var d=a("6537");let s={class:"demo-section"},f=(0,n.aZ)({__name:"Slot",setup(e){let[t]=(0,r.$)("");return(e,a)=>{let r=(0,n.up)("demo-block");return(0,n.wg)(),(0,n.j4)(r,{title:"基础用法"},{default:(0,n.w5)(()=>[(0,n._)("section",s,[a[2]||(a[2]=(0,n._)("span",{class:"demo-section-desc"},"自定义 trigger",-1)),(0,n.Wm)((0,n.SU)(u.gN),{label:"文本框",placeholder:"请输入",modelValue:(0,n.SU)(t),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,n.dq)(t)?t.value=e:null)},{"right-icon":(0,n.w5)(()=>[(0,n.Wm)((0,n.SU)(l.Mq),{txt:(0,n.SU)(t)},{default:(0,n.w5)(e=>{let{copy:l}=e;return[(0,n.Wm)((0,n.SU)(d.zx),{size:"mini",type:"primary",onClick:e=>l((0,n.SU)(t))},{default:(0,n.w5)(()=>a[1]||(a[1]=[(0,n.Uk)(" 复制内容 ")])),_:2,__:[1]},1032,["onClick"])]}),_:1},8,["txt"])]),_:1},8,["modelValue"])])]),_:1})}}}),m=(0,c.default)(f,[["__scopeId","data-v-78ad6744"]]),h=(0,n.aZ)({__name:"index",setup:e=>(e,t)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(v),(0,n.Wm)(m)],64))}),p=(0,c.default)(h,[["__scopeId","data-v-4f54de4a"]])},798:function(e,t,a){let n,l,r,u,i,o,c,v,d;a.d(t,{$:function(){return m}});var s,f=a(2885);function m(e){let t=(0,f.iH)(e);return[t,e=>{t.value=e}]}Symbol("GLOBAL_OPTIONS_PROVIDE_KEY");let h=e=>Array.isArray(e),p=e=>null!==e&&"object"==typeof e,w=e=>e instanceof Function,g=e=>null==e,y=typeof window>"u",E=()=>{var e;return!!(y||g(null===(e=window.document)||void 0===e?void 0:e.visibilityState))||"visible"===window.document.visibilityState},S=()=>{var e,t;return null===(e=!y&&(null===(t=window.navigator)||void 0===t?void 0:t.onLine))||void 0===e||e},_=e=>(0,f.dq)(e)?e.value:e,T=new Map,x=e=>g(e)?void 0:T.get(e),I=(e,t,a)=>{let n=T.get(e);null!=n&&n.timer&&clearTimeout(n.timer);let l=setTimeout(()=>T.delete(e),t);T.set(e,{...a,timer:l})};function F(e,t,a){let n,l,r,u,i,o,c=0,v=!1,d=!1,s=!0,f=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw TypeError("Expected a function");function m(t){let a=n,r=l;return n=l=void 0,c=t,u=e.apply(r,a)}function h(e,t){return f?(window.cancelAnimationFrame(i),window.requestAnimationFrame(e)):setTimeout(e,t)}t=+t||0,p(a)&&(v=!!a.leading,r=(d="maxWait"in a)?Math.max(+a.maxWait||0,t):r,s="trailing"in a?!!a.trailing:s);function w(e){let a=e-o,n=e-c;return void 0===o||a>=t||a<0||d&&n>=r}function g(){let e=Date.now();if(w(e))return y(e);i=h(g,function(e){let a=e-o,n=e-c,l=t-a;return d?Math.min(l,r-n):l}(e))}function y(e){return i=void 0,s&&n?m(e):(n=l=void 0,u)}function E(){let e=Date.now(),a=w(e);for(var r,s=arguments.length,f=Array(s),p=0;p<s;p++)f[p]=arguments[p];if(n=f,l=this,o=e,a){if(void 0===i){;return c=r=o,i=h(g,t),v?m(r):u}if(d)return i=h(g,t),m(o)}return void 0===i&&(i=h(g,t)),u}return E.cancel=function(){void 0!==i&&function(e){if(f)return window.cancelAnimationFrame(e);clearTimeout(e)}(i),c=0,n=o=l=i=void 0},E.flush=function(){return void 0===i?u:y(Date.now())},E.pending=function(){return void 0!==i},E}n=(e,t)=>{let{debounceInterval:a,debounceOptions:n,manual:l}=t,r=(0,f.iH)(!1),u=(0,f.iH)(),i=(0,f.Fl)(()=>n),o=(0,f.Fl)(()=>_(a)),c=(0,f.iH)(e.context.runAsync);return l||(r.value=!0),(0,f.m0)(t=>{g(o.value)||(u.value=F(e=>e(),o.value,i.value),e.context.runAsync=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return new Promise((e,a)=>{r.value?(r.value=!1,c.value(...t).then(e).catch(a)):u.value(()=>{c.value(...t).then(e).catch(a)})})},t(()=>{var t;null===(t=u.value)||void 0===t||t.cancel(),e.context.runAsync=c.value}))}),{onCancel(){var e;null===(e=u.value)||void 0===e||e.cancel()}}},l=(e,t)=>{let{errorRetryCount:a=0,errorRetryInterval:n=0}=t,l=(0,f.iH)(),r=(0,f.iH)(0),u=(0,f.Fl)(()=>_(a)),i=(0,f.Fl)(()=>_(n)),o=!1,c=()=>{r.value=0},v=(0,f.Fl)(()=>i.value?i.value:1e3*Math.floor(Math.random()*2**Math.min(r.value,9)+1)),d=()=>{let t;let a=-1===u.value,n=r.value<u.value;return(a||n)&&(a||(r.value+=1),t=setTimeout(()=>{o=!0,e.context.refresh()},v.value)),()=>t&&clearTimeout(t)},s=()=>{l.value&&l.value()};return{onBefore(){o||c(),o=!1,s()},onSuccess(){c()},onError(){l.value=d()},onCancel(){c(),s()}}},r=(e,t)=>{let{ready:a=(0,f.iH)(!0),manual:n,defaultParams:l=[]}=t;return(0,f.YP)(a,t=>{!n&&t&&e.context.run(...l)},{flush:"sync"}),{onBefore(){if(!(w(a)?a():a.value))return e.loading.value=!1,{isBreak:!0}}}},u=(e,t)=>{let{refreshDeps:a,refreshDepsAction:n,manual:l}=t;if(void 0===a||h(a)&&0===a.length)return{};let r=h(a)?a:[a];return(0,f.YP)(r,()=>{n?n():l||e.context.refresh()}),{}},i=(e,t)=>{let{throttleInterval:a,throttleOptions:n}=t,l=(0,f.iH)(),r=(0,f.Fl)(()=>_(a)),u=(0,f.Fl)(()=>n),i=(0,f.iH)(e.context.runAsync);return(0,f.m0)(t=>{if(g(a))return{};l.value=function(e,t,a){let n=!0,l=!0;if("function"!=typeof e)throw TypeError("Expected a function");return p(a)&&(n="leading"in a?!!a.leading:n,l="trailing"in a?!!a.trailing:l),F(e,t,{leading:n,trailing:l,maxWait:t})}(e=>e(),r.value,u.value),e.context.runAsync=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return new Promise((e,a)=>{l.value(()=>{i.value(...t).then(e).catch(a)})})},t(()=>{var t;null===(t=l.value)||void 0===t||t.cancel(),e.context.runAsync=i.value})}),{onCancel(){var e;null===(e=l.value)||void 0===e||e.cancel()}}};let A=new Map,C=(e,t)=>{A.set(e,t),t.then(t=>(A.delete(e),t)).catch(()=>{A.delete(e)})},b=e=>A.get(e),L=new Map,U=(e,t)=>{L.has(e)&&L.get(e).forEach(e=>e(t))},H=(e,t)=>(L.has(e)?L.get(e).push(t):L.set(e,[t]),()=>{let a=L.get(e).indexOf(t);L.get(e).splice(a,1)});o=(e,t)=>{let a,{cacheKey:n,cacheTime:l=6e5,staleTime:r=0,getCache:u,setCache:i}=t;if(!n)return{};let o=w(n)?n:()=>n,c=(0,f.iH)(()=>{}),v=e=>u?u(e):x(e),d=(e,t,a)=>{i?i(e,a):I(e,t,a),U(e,a.data)},s=e=>-1===r||e+r>new Date().getTime(),m=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),h=t=>H(o(t),t=>{e.data.value=t}),p=o(),g=v(p);return g&&m(g,"data")&&(e.data.value=g.data,e.params.value=g.params),p&&(c.value=h()),(0,f.SK)(()=>{c.value()}),{onBefore(t){let a=v(o(t));return a&&m(a,"data")?s(a.time)?(e.data.value=a.data,e.loading.value=!1,{isBreak:!0,breakResult:a.data}):void(e.data.value=a.data):{}},onQuery(t){let n=o(e.params.value),l=b(n);return l&&l!==a||(a=l=t(),C(n,l)),()=>l},onSuccess(e,t){let a=o(t);a&&(c.value(),d(a,l,{data:e,params:t,time:new Date().getTime()}),c.value=h(t))},onMutate(t){let a=o(e.params.value);a&&(c.value(),d(a,l,{data:t,params:e.params.value,time:new Date().getTime()}),c.value=h(e.params.value))}}};function O(){return new Date().getTime()}c=(e,t)=>{let{loadingDelay:a=0,loadingKeep:n=0}=t,l=(0,f.iH)(()=>{}),r=(0,f.Fl)(()=>_(a)),u=(0,f.Fl)(()=>_(n)),i=0,o={},c=()=>{let t;return r.value&&(t=setTimeout(()=>{"pending"===e.status.value&&(e.loading.value=!0)},r.value)),()=>t&&clearTimeout(t)};return{onBefore(){e.loading.value=!r.value,l.value(),l.value=c(),i=O()},onQuery(e){var t;let a,n;if(!u.value)return()=>e();t=u.value+r.value,o=new class e extends Promise{constructor(e){super(e),this.cancel=()=>{n(),clearTimeout(a)}}}(e=>{a=setTimeout(n=e,t)});let l=Promise.allSettled([(async()=>{try{let t=await e();return O()-i<=r.value&&o.cancel(),Promise.resolve(t)}catch(e){return O()-i<=r.value&&o.cancel(),Promise.reject(e)}})(),o]).then(e=>{let t=e[0];return"fulfilled"===t.status?t.value:Promise.reject(t.reason)});return()=>l},onCancel(){l.value()},onAfter(){l.value()}}};let k=new Set,N=new Set,P=new Set,R=(e,t)=>{let a;switch(e){case"FOCUS_LISTENER":a=k;break;case"RECONNECT_LISTENER":a=P;break;case"VISIBLE_LISTENER":a=N}if(!a.has(t))return a.add(t),()=>{a.delete(t)}},W=e=>{e.forEach(e=>{e()})};!y&&null!==(s=window)&&void 0!==s&&s.addEventListener&&(window.addEventListener("visibilitychange",()=>{E()&&W(N)},!1),window.addEventListener("focus",()=>W(k),!1),window.addEventListener("online",()=>W(P),!1));v=(e,t)=>{let{pollingInterval:a,pollingWhenHidden:n=!1,pollingWhenOffline:l=!1,errorRetryCount:r=0}=t,u=(0,f.iH)(),i=(0,f.iH)(!1),o=(0,f.Fl)(()=>_(a)),c=(0,f.Fl)(()=>_(r)),v=[],d=e=>{e&&v.push(e)},s=()=>(n||E())&&(l||S()),m=t=>{let a;if(!e.error.value||0===c.value){if(!g(o.value)&&o.value>=0){if(s())a=setTimeout(t,o.value);else{i.value=!0;return}}return()=>a&&clearTimeout(a)}},h=()=>{i.value&&s()&&(e.context.refresh(),i.value=!1)};return(0,f.YP)(o,()=>{u.value&&(u.value(),u.value=m(()=>e.context.refresh()))}),n||d(R("VISIBLE_LISTENER",h)),l||d(R("RECONNECT_LISTENER",h)),(0,f.SK)(()=>{v.forEach(e=>e())}),{onBefore(){var e;null===(e=u.value)||void 0===e||e.call(u)},onCancel(){var e;null===(e=u.value)||void 0===e||e.call(u)},onAfter(){u.value=m(()=>e.context.refresh())}}};let B=(e,t)=>{let a=!1;return function(){a||(a=!0,e(...arguments),setTimeout(()=>{a=!1},t))}};d=(e,t)=>{let{refreshOnWindowFocus:a=!1,refocusTimespan:n=5e3}=t,l=(0,f.Fl)(()=>_(a)),r=(0,f.Fl)(()=>_(n)),u=[],i=e=>{e&&u.push(e)},o=()=>{u.forEach(e=>e())};return(0,f.m0)(()=>{if(o(),l.value){let t=B(e.context.refresh,r.value);i(R("VISIBLE_LISTENER",t)),i(R("FOCUS_LISTENER",t))}}),(0,f.SK)(()=>{o()}),{}}}}]);