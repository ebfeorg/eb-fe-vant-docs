"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["194"],{5183:function(e,a,t){t.r(a),t.d(a,{default:()=>p});var l=t("2885"),n=t("798"),u=t("4923"),r=t("6537");let i={class:"trigger-box"},o=(0,l.aZ)({__name:"BasicUsage",setup(e){let a=[{name:"选项1",value:"1"},{name:"选项2",value:"2",disabled:!0},{name:"选项3",value:"3"}],t={label:"name",value:"value"},[o,v]=(0,n.$)([]);return(e,n)=>((0,l.wg)(),(0,l.j4)((0,l.SU)(u.G8),{modelValue:(0,l.SU)(o),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,l.dq)(o)?o.value=e:null),options:a,"field-names":t,title:"基础用法","tip-txt":"\uD83D\uDCAB这是一段提示文本: 你可以根据业务需要自行定制展示的内容"},{trigger:(0,l.w5)(e=>{let{triggerPopupShow:a,showValue:t}=e;return[(0,l._)("div",i,[(0,l.Wm)((0,l.SU)(r.zx),{type:"primary",onClick:a},{default:(0,l.w5)(()=>n[1]||(n[1]=[(0,l.Uk)(" 点击打开多选-选择器\uD83E\uDD2A ")])),_:2,__:[1]},1032,["onClick"]),(0,l._)("p",null,"show value: "+(0,l.zw)(t),1),(0,l._)("p",null,"modelValue: "+(0,l.zw)((0,l.SU)(o)),1)])]}),_:1},8,["modelValue"]))}});var v=t("6521");let c=(0,v.default)(o,[["__scopeId","data-v-69c02b3b"]]);var d=t("391");let s={class:"trigger-box"},m=(0,l.aZ)({__name:"SearchModeUsage",setup(e){let a=[{name:"选项1",value:"1"},{name:"选项2",value:"2",disabled:!0},{name:"选项3",value:"3"},{name:"选项4",value:"4",disabled:!0},{name:"选项5",value:"5"},{name:"选项6",value:"6"},{name:"选项7",value:"7",disabled:!0},{name:"选项8",value:"8"},{name:"选项9",value:"9"},{name:"选项10",value:"10"},{name:"选项11",value:"11",disabled:!0},{name:"选项12",value:"12"},{name:"选项13",value:"13",disabled:!0},{name:"选项14",value:"14"},{name:"选项15",value:"15"},{name:"选项16",value:"16",disabled:!0},{name:"选项17",value:"17"},{name:"选项18",value:"18"},{name:"选项19",value:"19"},{name:"选项20",value:"20"}],[t,i]=(0,n.$)(a),o={label:"name",value:"value"},[v,c]=(0,n.$)([]),m=e=>{(0,d.Xb)(e)?i(a):i(a.filter(a=>a.name.toLocaleLowerCase().includes(e.toLocaleLowerCase())))};return(e,a)=>((0,l.wg)(),(0,l.j4)((0,l.SU)(u.G8),{modelValue:(0,l.SU)(v),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,l.dq)(v)?v.value=e:null),options:(0,l.SU)(t),"field-names":o,title:"基础用法","show-search":"",onSearch:m},{trigger:(0,l.w5)(e=>{let{triggerPopupShow:t,showValue:n}=e;return[(0,l._)("div",s,[(0,l.Wm)((0,l.SU)(r.zx),{type:"primary",onClick:t},{default:(0,l.w5)(()=>a[1]||(a[1]=[(0,l.Uk)(" 带搜索框\uD83D\uDD0D ")])),_:2,__:[1]},1032,["onClick"]),(0,l._)("p",null,"show value: "+(0,l.zw)(n),1),(0,l._)("p",null,"modelValue: "+(0,l.zw)((0,l.SU)(v)),1)])]}),_:1},8,["modelValue","options"]))}}),f=(0,v.default)(m,[["__scopeId","data-v-1c2a0460"]]),w=(0,l.aZ)({__name:"index",setup:e=>(e,a)=>{let t=(0,l.up)("demo-block");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(t,{title:"基础用法"},{default:(0,l.w5)(()=>[(0,l.Wm)(c)]),_:1}),(0,l.Wm)(t,{title:"开启搜索功能"},{default:(0,l.w5)(()=>[(0,l.Wm)(f)]),_:1})],64)}}),p=(0,v.default)(w,[["__scopeId","data-v-0f3c61b0"]])},798:function(e,a,t){let l,n,u,r,i,o,v,c,d;t.d(a,{$:function(){return f}});var s,m=t(2885);function f(e){let a=(0,m.iH)(e);return[a,e=>{a.value=e}]}Symbol("GLOBAL_OPTIONS_PROVIDE_KEY");let w=e=>Array.isArray(e),p=e=>null!==e&&"object"==typeof e,h=e=>e instanceof Function,g=e=>null==e,y=typeof window>"u",_=()=>{var e;return!!(y||g(null===(e=window.document)||void 0===e?void 0:e.visibilityState))||"visible"===window.document.visibilityState},E=()=>{var e,a;return null===(e=!y&&(null===(a=window.navigator)||void 0===a?void 0:a.onLine))||void 0===e||e},S=e=>(0,m.dq)(e)?e.value:e,T=new Map,b=e=>g(e)?void 0:T.get(e),x=(e,a,t)=>{let l=T.get(e);null!=l&&l.timer&&clearTimeout(l.timer);let n=setTimeout(()=>T.delete(e),a);T.set(e,{...t,timer:n})};function C(e,a,t){let l,n,u,r,i,o,v=0,c=!1,d=!1,s=!0,m=!a&&0!==a&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw TypeError("Expected a function");function f(a){let t=l,u=n;return l=n=void 0,v=a,r=e.apply(u,t)}function w(e,a){return m?(window.cancelAnimationFrame(i),window.requestAnimationFrame(e)):setTimeout(e,a)}a=+a||0,p(t)&&(c=!!t.leading,u=(d="maxWait"in t)?Math.max(+t.maxWait||0,a):u,s="trailing"in t?!!t.trailing:s);function h(e){let t=e-o,l=e-v;return void 0===o||t>=a||t<0||d&&l>=u}function g(){let e=Date.now();if(h(e))return y(e);i=w(g,function(e){let t=e-o,l=e-v,n=a-t;return d?Math.min(n,u-l):n}(e))}function y(e){return i=void 0,s&&l?f(e):(l=n=void 0,r)}function _(){let e=Date.now(),t=h(e);for(var u,s=arguments.length,m=Array(s),p=0;p<s;p++)m[p]=arguments[p];if(l=m,n=this,o=e,t){if(void 0===i){;return v=u=o,i=w(g,a),c?f(u):r}if(d)return i=w(g,a),f(o)}return void 0===i&&(i=w(g,a)),r}return _.cancel=function(){void 0!==i&&function(e){if(m)return window.cancelAnimationFrame(e);clearTimeout(e)}(i),v=0,l=o=n=i=void 0},_.flush=function(){return void 0===i?r:y(Date.now())},_.pending=function(){return void 0!==i},_}l=(e,a)=>{let{debounceInterval:t,debounceOptions:l,manual:n}=a,u=(0,m.iH)(!1),r=(0,m.iH)(),i=(0,m.Fl)(()=>l),o=(0,m.Fl)(()=>S(t)),v=(0,m.iH)(e.context.runAsync);return n||(u.value=!0),(0,m.m0)(a=>{g(o.value)||(r.value=C(e=>e(),o.value,i.value),e.context.runAsync=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return new Promise((e,t)=>{u.value?(u.value=!1,v.value(...a).then(e).catch(t)):r.value(()=>{v.value(...a).then(e).catch(t)})})},a(()=>{var a;null===(a=r.value)||void 0===a||a.cancel(),e.context.runAsync=v.value}))}),{onCancel(){var e;null===(e=r.value)||void 0===e||e.cancel()}}},n=(e,a)=>{let{errorRetryCount:t=0,errorRetryInterval:l=0}=a,n=(0,m.iH)(),u=(0,m.iH)(0),r=(0,m.Fl)(()=>S(t)),i=(0,m.Fl)(()=>S(l)),o=!1,v=()=>{u.value=0},c=(0,m.Fl)(()=>i.value?i.value:1e3*Math.floor(Math.random()*2**Math.min(u.value,9)+1)),d=()=>{let a;let t=-1===r.value,l=u.value<r.value;return(t||l)&&(t||(u.value+=1),a=setTimeout(()=>{o=!0,e.context.refresh()},c.value)),()=>a&&clearTimeout(a)},s=()=>{n.value&&n.value()};return{onBefore(){o||v(),o=!1,s()},onSuccess(){v()},onError(){n.value=d()},onCancel(){v(),s()}}},u=(e,a)=>{let{ready:t=(0,m.iH)(!0),manual:l,defaultParams:n=[]}=a;return(0,m.YP)(t,a=>{!l&&a&&e.context.run(...n)},{flush:"sync"}),{onBefore(){if(!(h(t)?t():t.value))return e.loading.value=!1,{isBreak:!0}}}},r=(e,a)=>{let{refreshDeps:t,refreshDepsAction:l,manual:n}=a;if(void 0===t||w(t)&&0===t.length)return{};let u=w(t)?t:[t];return(0,m.YP)(u,()=>{l?l():n||e.context.refresh()}),{}},i=(e,a)=>{let{throttleInterval:t,throttleOptions:l}=a,n=(0,m.iH)(),u=(0,m.Fl)(()=>S(t)),r=(0,m.Fl)(()=>l),i=(0,m.iH)(e.context.runAsync);return(0,m.m0)(a=>{if(g(t))return{};n.value=function(e,a,t){let l=!0,n=!0;if("function"!=typeof e)throw TypeError("Expected a function");return p(t)&&(l="leading"in t?!!t.leading:l,n="trailing"in t?!!t.trailing:n),C(e,a,{leading:l,trailing:n,maxWait:a})}(e=>e(),u.value,r.value),e.context.runAsync=function(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return new Promise((e,t)=>{n.value(()=>{i.value(...a).then(e).catch(t)})})},a(()=>{var a;null===(a=n.value)||void 0===a||a.cancel(),e.context.runAsync=i.value})}),{onCancel(){var e;null===(e=n.value)||void 0===e||e.cancel()}}};let I=new Map,F=(e,a)=>{I.set(e,a),a.then(a=>(I.delete(e),a)).catch(()=>{I.delete(e)})},L=e=>I.get(e),A=new Map,U=(e,a)=>{A.has(e)&&A.get(e).forEach(e=>e(a))},k=(e,a)=>(A.has(e)?A.get(e).push(a):A.set(e,[a]),()=>{let t=A.get(e).indexOf(a);A.get(e).splice(t,1)});o=(e,a)=>{let t,{cacheKey:l,cacheTime:n=6e5,staleTime:u=0,getCache:r,setCache:i}=a;if(!l)return{};let o=h(l)?l:()=>l,v=(0,m.iH)(()=>{}),c=e=>r?r(e):b(e),d=(e,a,t)=>{i?i(e,t):x(e,a,t),U(e,t.data)},s=e=>-1===u||e+u>new Date().getTime(),f=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),w=a=>k(o(a),a=>{e.data.value=a}),p=o(),g=c(p);return g&&f(g,"data")&&(e.data.value=g.data,e.params.value=g.params),p&&(v.value=w()),(0,m.SK)(()=>{v.value()}),{onBefore(a){let t=c(o(a));return t&&f(t,"data")?s(t.time)?(e.data.value=t.data,e.loading.value=!1,{isBreak:!0,breakResult:t.data}):void(e.data.value=t.data):{}},onQuery(a){let l=o(e.params.value),n=L(l);return n&&n!==t||(t=n=a(),F(l,n)),()=>n},onSuccess(e,a){let t=o(a);t&&(v.value(),d(t,n,{data:e,params:a,time:new Date().getTime()}),v.value=w(a))},onMutate(a){let t=o(e.params.value);t&&(v.value(),d(t,n,{data:a,params:e.params.value,time:new Date().getTime()}),v.value=w(e.params.value))}}};function H(){return new Date().getTime()}v=(e,a)=>{let{loadingDelay:t=0,loadingKeep:l=0}=a,n=(0,m.iH)(()=>{}),u=(0,m.Fl)(()=>S(t)),r=(0,m.Fl)(()=>S(l)),i=0,o={},v=()=>{let a;return u.value&&(a=setTimeout(()=>{"pending"===e.status.value&&(e.loading.value=!0)},u.value)),()=>a&&clearTimeout(a)};return{onBefore(){e.loading.value=!u.value,n.value(),n.value=v(),i=H()},onQuery(e){var a;let t,l;if(!r.value)return()=>e();a=r.value+u.value,o=new class e extends Promise{constructor(e){super(e),this.cancel=()=>{l(),clearTimeout(t)}}}(e=>{t=setTimeout(l=e,a)});let n=Promise.allSettled([(async()=>{try{let a=await e();return H()-i<=u.value&&o.cancel(),Promise.resolve(a)}catch(e){return H()-i<=u.value&&o.cancel(),Promise.reject(e)}})(),o]).then(e=>{let a=e[0];return"fulfilled"===a.status?a.value:Promise.reject(a.reason)});return()=>n},onCancel(){n.value()},onAfter(){n.value()}}};let O=new Set,P=new Set,R=new Set,B=(e,a)=>{let t;switch(e){case"FOCUS_LISTENER":t=O;break;case"RECONNECT_LISTENER":t=R;break;case"VISIBLE_LISTENER":t=P}if(!t.has(a))return t.add(a),()=>{t.delete(a)}},D=e=>{e.forEach(e=>{e()})};!y&&null!==(s=window)&&void 0!==s&&s.addEventListener&&(window.addEventListener("visibilitychange",()=>{_()&&D(P)},!1),window.addEventListener("focus",()=>D(O),!1),window.addEventListener("online",()=>D(R),!1));c=(e,a)=>{let{pollingInterval:t,pollingWhenHidden:l=!1,pollingWhenOffline:n=!1,errorRetryCount:u=0}=a,r=(0,m.iH)(),i=(0,m.iH)(!1),o=(0,m.Fl)(()=>S(t)),v=(0,m.Fl)(()=>S(u)),c=[],d=e=>{e&&c.push(e)},s=()=>(l||_())&&(n||E()),f=a=>{let t;if(!e.error.value||0===v.value){if(!g(o.value)&&o.value>=0){if(s())t=setTimeout(a,o.value);else{i.value=!0;return}}return()=>t&&clearTimeout(t)}},w=()=>{i.value&&s()&&(e.context.refresh(),i.value=!1)};return(0,m.YP)(o,()=>{r.value&&(r.value(),r.value=f(()=>e.context.refresh()))}),l||d(B("VISIBLE_LISTENER",w)),n||d(B("RECONNECT_LISTENER",w)),(0,m.SK)(()=>{c.forEach(e=>e())}),{onBefore(){var e;null===(e=r.value)||void 0===e||e.call(r)},onCancel(){var e;null===(e=r.value)||void 0===e||e.call(r)},onAfter(){r.value=f(()=>e.context.refresh())}}};let N=(e,a)=>{let t=!1;return function(){t||(t=!0,e(...arguments),setTimeout(()=>{t=!1},a))}};d=(e,a)=>{let{refreshOnWindowFocus:t=!1,refocusTimespan:l=5e3}=a,n=(0,m.Fl)(()=>S(t)),u=(0,m.Fl)(()=>S(l)),r=[],i=e=>{e&&r.push(e)},o=()=>{r.forEach(e=>e())};return(0,m.m0)(()=>{if(o(),n.value){let a=N(e.context.refresh,u.value);i(B("VISIBLE_LISTENER",a)),i(B("FOCUS_LISTENER",a))}}),(0,m.SK)(()=>{o()}),{}}}}]);