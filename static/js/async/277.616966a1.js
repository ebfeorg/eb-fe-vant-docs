"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["277"],{9327:function(e,l,a){a.r(l),a.d(l,{default:()=>f});var t=a("2885"),o=a("4923"),r=a("798"),n=a("7211"),u=a("2498"),d=a("6537"),i=a("391");let s=(0,t.aZ)({__name:"BasicUsage",setup(e){let{AES_Encrypt:l,AES_Dencrypt:a}=(0,i.rL)({key:"12345678"}),[s]=(0,r.$)("12345678"),m=(0,t.Fl)(()=>{var e;return null===(e=v.encrypt)||void 0===e?void 0:e.call(v,s.value)}),v={decrypt:a,encrypt:l,fetchPlaintext:async e=>new Promise(e=>{setTimeout(()=>{console.log("模拟接口调用"),e(m.value)},1e3)})},[c,p]=(0,r.$)(m.value);(0,t.YP)(m,p);let g=(0,t.iH)(),f=()=>{var e;null===(e=g.value)||void 0===e||e.validate().then(()=>{var e,l;console.log("getValues",null===(l=g.value)||void 0===l?void 0:null===(e=l.getValues)||void 0===e?void 0:e.call(l))})};return(e,l)=>{let a=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.j4)(a,{title:"基础用法"},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(n.l0),{ref_key:"FormRef",ref:g,"validate-trigger":["onBlur","onChange"]},{default:(0,t.w5)(()=>[(0,t._)("section",null,[l[3]||(l[3]=(0,t._)("span",{class:"desc"},"设置初始值: 加密且脱敏",-1)),(0,t.Wm)((0,t.SU)(u.gN),{label:"明文",placeholder:"请输入",modelValue:(0,t.SU)(s),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,t.dq)(s)?s.value=e:null)},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(u.gN),{disabled:"",label:"密文",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),placeholder:"输入明文, 制造密文"},null,8,["modelValue"]),l[4]||(l[4]=(0,t._)("p",null,"modelValue:",-1)),(0,t.Uk)(" "+(0,t.zw)((0,t.SU)(c))+" ",1),(0,t.Wm)((0,t.SU)(o.qD),{preset:v,"mask-id":"maskId",modelValue:(0,t.SU)(c),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,t.dq)(c)?c.value=e:null),"field-props":{name:"testField",label:"测试字段",required:!0,rules:[{required:!0,message:"请输入"}]}},null,8,["modelValue"])]),(0,t.Wm)((0,t.SU)(d.zx),{round:"",block:"",type:"primary",onClick:f},{default:(0,t.w5)(()=>l[5]||(l[5]=[(0,t.Uk)(" 提交 ")])),_:1,__:[5]})]),_:1},512)]),_:1})}}});var m=a("6521");let v=(0,m.default)(s,[["__scopeId","data-v-411d87c8"]]),c=(0,t.aZ)({__name:"GenFieldRules",setup(e){let{AES_Encrypt:l,AES_Dencrypt:a}=(0,i.rL)({key:"12345678"}),[s]=(0,r.$)("130999199909099999"),m=(0,t.Fl)(()=>{var e;return null===(e=v.encrypt)||void 0===e?void 0:e.call(v,s.value)}),v={decrypt:a,encrypt:l,maskType:"id",fetchPlaintext:async e=>new Promise(e=>{setTimeout(()=>{console.log("模拟接口调用"),e(m.value)},1e3)})},[c,p]=(0,r.$)(m.value);(0,t.YP)(m,p);let g=e=>{let{isPlaintextVisible:l}=e;return[{required:!0,message:l&&(null===i.ef||void 0===i.ef?void 0:i.ef.message),validator:l&&(e=>i.ef.pattern.test(e))}]},f=(0,t.iH)(),V=()=>{var e;null===(e=f.value)||void 0===e||e.validate().then(()=>{var e,l;console.log("getValues",null===(l=f.value)||void 0===l?void 0:null===(e=l.getValues)||void 0===e?void 0:e.call(l))})};return(e,l)=>{let a=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.j4)(a,{title:"根据脱敏状态定制 rules"},{default:(0,t.w5)(()=>[(0,t.Wm)((0,t.SU)(n.l0),{ref_key:"FormRef",ref:f,"validate-trigger":["onBlur","onChange"]},{default:(0,t.w5)(()=>[(0,t._)("section",null,[l[3]||(l[3]=(0,t._)("span",{class:"desc"},"设置初始值: 加密且脱敏",-1)),(0,t.Wm)((0,t.SU)(u.gN),{label:"明文",placeholder:"请输入",modelValue:(0,t.SU)(s),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,t.dq)(s)?s.value=e:null)},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(u.gN),{disabled:"",label:"密文",modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=e=>m.value=e),placeholder:"输入明文, 制造密文"},null,8,["modelValue"]),l[4]||(l[4]=(0,t._)("p",null,"modelValue:",-1)),(0,t.Uk)(" "+(0,t.zw)((0,t.SU)(c))+" ",1),(0,t.Wm)((0,t.SU)(o.qD),{preset:v,"mask-id":"maskId",modelValue:(0,t.SU)(c),"onUpdate:modelValue":l[2]||(l[2]=e=>(0,t.dq)(c)?c.value=e:null),"field-props":{name:"testField",label:"测试字段",required:!0,rules:[{required:!0}]},"gen-field-rules":g,"real-field-props":{rules:[]}},null,8,["modelValue"])]),(0,t.Wm)((0,t.SU)(d.zx),{round:"",block:"",type:"primary",onClick:V},{default:(0,t.w5)(()=>l[5]||(l[5]=[(0,t.Uk)(" 提交 ")])),_:1,__:[5]})]),_:1},512)]),_:1})}}}),p=(0,m.default)(c,[["__scopeId","data-v-5e495699"]]),g=(0,t.aZ)({__name:"index",setup:e=>(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(v),(0,t.Wm)(p)],64))}),f=(0,m.default)(g,[["__scopeId","data-v-55da0723"]])},7211:function(e,l,a){a.d(l,{l0:()=>g});var t=a("5284"),o=a("2885"),r=a("8134"),n=a("792"),u=a("5507"),d=a("8429"),i=a("4561"),s=a("3538");let[m,v]=(0,r.do)("form"),c={colon:Boolean,disabled:Boolean,readonly:Boolean,required:[Boolean,String],showError:Boolean,labelWidth:n.Or,labelAlign:String,inputAlign:String,scrollToError:Boolean,scrollToErrorPosition:String,validateFirst:Boolean,submitOnEnter:n.J5,showErrorMessage:n.J5,errorMessageAlign:String,validateTrigger:{type:[String,Array],default:"onBlur"}};var p=(0,o.aZ)({name:m,props:c,emits:["submit","failed"],setup(e,{emit:l,slots:a}){let{children:t,linkChildren:r}=(0,i.$E)(u.WN),n=e=>e?t.filter(l=>e.includes(l.name)):t,m=e=>new Promise((l,a)=>{let t=[];n(e).reduce((e,l)=>e.then(()=>{if(!t.length)return l.validate().then(e=>{e&&t.push(e)})}),Promise.resolve()).then(()=>{t.length?a(t):l()})}),c=e=>new Promise((l,a)=>{Promise.all(n(e).map(e=>e.validate())).then(e=>{(e=e.filter(Boolean)).length?a(e):l()})}),p=e=>{let l=t.find(l=>l.name===e);return l?new Promise((e,a)=>{l.validate().then(l=>{l?a(l):e()})}):Promise.reject()},g=l=>"string"==typeof l?p(l):e.validateFirst?m(l):c(l),f=(e,l)=>{t.some(a=>a.name===e&&(a.$el.scrollIntoView(l),!0))},V=()=>t.reduce((e,l)=>(void 0!==l.name&&(e[l.name]=l.formValue.value),e),{}),_=()=>{let a=V();g().then(()=>l("submit",a)).catch(t=>{l("failed",{values:a,errors:t});let{scrollToError:o,scrollToErrorPosition:r}=e;o&&t[0].name&&f(t[0].name,r?{block:r}:void 0)})},h=e=>{(0,d.PF)(e),_()};return r({props:e}),(0,s.F)({submit:_,validate:g,getValues:V,scrollToField:f,resetValidation:e=>{"string"==typeof e&&(e=[e]),n(e).forEach(e=>{e.resetValidation()})},getValidationStatus:()=>t.reduce((e,l)=>(e[l.name]=l.getValidationStatus(),e),{})}),()=>{var e;return(0,o.Wm)("form",{class:v(),onSubmit:h},[null==(e=a.default)?void 0:e.call(a)])}}});let g=(0,t.n)(p)}}]);