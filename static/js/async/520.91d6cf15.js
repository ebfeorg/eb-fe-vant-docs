"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["520"],{5447:function(e,l,a){a.r(l),a.d(l,{default:()=>N});var o=a("2885"),n=a("798"),t=a("8663"),i=a("6537");let r={class:"trigger-box"},d=(0,o.aZ)({__name:"BasicUsage",setup(e){let l=[{name:"选项1",value:"1"},{name:"选项2",value:"2"}],a={text:"name",value:"value"},[d,s]=(0,n.$)(void 0);return(e,n)=>((0,o.wg)(),(0,o.j4)(t.Z,{modelValue:(0,o.SU)(d),"onUpdate:modelValue":n[0]||(n[0]=e=>(0,o.dq)(d)?d.value=e:null),"picker-props":{title:"基础用法",columns:l,columnsFieldNames:a}},{trigger:(0,o.w5)(e=>{let{triggerPopupShow:l,showValue:a}=e;return[(0,o._)("div",r,[(0,o.Wm)((0,o.SU)(i.zx),{type:"primary",onClick:l},{default:(0,o.w5)(()=>n[1]||(n[1]=[(0,o.Uk)(" 点击打开选择器\uD83E\uDD2A ")])),_:2,__:[1]},1032,["onClick"]),(0,o._)("p",null,"show value: "+(0,o.zw)(a),1),(0,o._)("p",null,"modelValue: "+(0,o.zw)((0,o.SU)(d)),1)])]}),_:1},8,["modelValue","picker-props"]))}});var s=a("6521");let u=(0,s.default)(d,[["__scopeId","data-v-6cf638a5"]]);var c=a("391");let m={class:"trigger-box"},v=(0,o.aZ)({__name:"SearchModeUsage",setup(e){let l=[{name:"选项1",value:"1"},{name:"选项2",value:"2"}],[a,r]=(0,n.$)(l),d={text:"name",value:"value"},[s,u]=(0,n.$)(void 0),v=e=>{(0,c.Xb)(e)?r(l):r(l.filter(l=>l.name.toLocaleLowerCase().includes(e.toLocaleLowerCase())))};return(e,l)=>((0,o.wg)(),(0,o.j4)(t.Z,{modelValue:(0,o.SU)(s),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,o.dq)(s)?s.value=e:null),"picker-props":{columns:(0,o.SU)(a),columnsFieldNames:d},"show-search":"",onSearch:v},{trigger:(0,o.w5)(e=>{let{triggerPopupShow:a,showValue:n}=e;return[(0,o._)("div",m,[(0,o.Wm)((0,o.SU)(i.zx),{type:"primary",onClick:a},{default:(0,o.w5)(()=>l[1]||(l[1]=[(0,o.Uk)(" 带搜索框\uD83D\uDD0D ")])),_:2,__:[1]},1032,["onClick"]),(0,o._)("p",null,"show value: "+(0,o.zw)(n),1),(0,o._)("p",null,"modelValue: "+(0,o.zw)((0,o.SU)(s)),1)])]}),title:(0,o.w5)(()=>l[2]||(l[2]=[(0,o.Uk)("Ashun")])),_:1},8,["modelValue","picker-props"]))}}),p=(0,s.default)(v,[["__scopeId","data-v-6a0b23f0"]]);var g=a("7710"),f=a("3538"),w=a("8134"),S=a("792");let k=0;var b=a("677"),h=a("730"),y=a("8681");let[_,U]=(0,w.do)("toast"),C=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],x={icon:String,show:Boolean,type:(0,S.SQ)("text"),overlay:Boolean,message:S.Or,iconSize:S.Or,duration:(0,S.qM)(2e3),position:(0,S.SQ)("middle"),teleport:[String,Object],wordBreak:String,className:S.Vg,iconPrefix:String,transition:(0,S.SQ)("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:S.Vg,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:S.Or};var W=(0,o.aZ)({name:_,props:x,emits:["update:show"],setup(e,{emit:l,slots:a}){let n;let t=!1,i=()=>{let l=e.show&&e.forbidClick;if(t!==l)(t=l)?(k||document.body.classList.add("van-toast--unclickable"),k++):!k||--k||document.body.classList.remove("van-toast--unclickable")},r=e=>l("update:show",e),d=()=>{e.closeOnClick&&r(!1)},s=()=>clearTimeout(n),u=()=>{let{icon:l,type:a,iconSize:n,iconPrefix:t,loadingType:i}=e;return l||"success"===a||"fail"===a?(0,o.Wm)(b.JO,{name:l||a,size:n,class:U("icon"),classPrefix:t},null):"loading"===a?(0,o.Wm)(y.gb,{class:U("loading"),size:n,type:i},null):void 0},c=()=>{let{type:l,message:n}=e;return a.message?(0,o.Wm)("div",{class:U("text")},[a.message()]):(0,g.Xq)(n)&&""!==n?"html"===l?(0,o.Wm)("div",{key:0,class:U("text"),innerHTML:String(n)},null):(0,o.Wm)("div",{class:U("text")},[n]):void 0};return(0,o.YP)(()=>[e.show,e.forbidClick],i),(0,o.YP)(()=>[e.show,e.type,e.message,e.duration],()=>{s(),e.show&&e.duration>0&&(n=setTimeout(()=>{r(!1)},e.duration))}),(0,o.bv)(i),(0,o.SK)(i),()=>(0,o.Wm)(h.GI,(0,o.dG)({class:[U([e.position,"normal"===e.wordBreak?"break-normal":e.wordBreak,{[e.type]:!e.icon}]),e.className],lockScroll:!1,onClick:d,onClosed:s,"onUpdate:show":r},(0,g.ei)(e,C)),{default:()=>[u(),c()]})}});let O=[],V=(0,g.l7)({},{icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1}),z=new Map;function P(e){return(0,g.Kn)(e)?e:{message:e}}function B(e={}){if(!g._f)return{};let l=function(){if(!O.length){let e=function(){let{instance:e,unmount:l}=function(e){let l=(0,o.ri)(e),a=document.createElement("div");return document.body.appendChild(a),{instance:l.mount(a),unmount(){l.unmount(),document.body.removeChild(a)}}}({setup(){let e=(0,o.iH)(""),{open:l,state:a,close:n,toggle:t}=function(){let e=(0,o.qj)({show:!1}),l=l=>{e.show=l},a=a=>{(0,g.l7)(e,a,{transitionAppear:!0}),l(!0)},n=()=>l(!1);return(0,f.F)({open:a,close:n,toggle:l}),{open:a,close:n,state:e,toggle:l}}(),i=()=>{};return(0,o.YP)(e,e=>{a.message=e}),(0,o.FN)().render=()=>(0,o.Wm)(W,(0,o.dG)(a,{onClosed:i,"onUpdate:show":t}),null),{open:l,close:n,message:e}}});return e}();O.push(e)}return O[O.length-1]}(),a=P(e);return l.open((0,g.l7)({},V,z.get(a.type||V.type),a)),l}let $=e=>l=>B((0,g.l7)({type:e},P(l)));$("loading"),$("success"),$("fail");let F={class:"trigger-box"},T=(0,o.aZ)({__name:"DisableOptionUsage",setup(e){let l=[{name:"选项1",value:"1"},{name:"选项2(禁用)",value:"2",disabled:!0},{name:"选项3",value:"3"}],a=[{name:"选项1(禁用)",value:"1(禁用)",disabled:!0},{name:"选项2(禁用)",value:"2(禁用)",disabled:!0},{name:"选项3(禁用)",value:"3(禁用)",disabled:!0}],[r,d]=(0,n.$)(l),s={text:"name",value:"value"},[u,c]=(0,n.$)(void 0),[m,v]=(0,n.$)(""),p=e=>{v("部分选项禁用"),d(l),e()},g=e=>{v("全部选项禁用"),d(a),e()};return(e,l)=>((0,o.wg)(),(0,o.j4)(t.Z,{modelValue:(0,o.SU)(u),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,o.dq)(u)?u.value=e:null),"picker-props":{title:(0,o.SU)(m),columns:(0,o.SU)(r),columnsFieldNames:s},onConfirmDisabledOption:l[1]||(l[1]=e=>{let{}=e;return(0,o.SU)(B)("你可以自定义后续操作,回调函数参数类型 TConfirmDisabledOptionPayload")})},{trigger:(0,o.w5)(e=>{let{triggerPopupShow:a,showValue:n}=e;return[(0,o._)("div",F,[(0,o._)("span",null,[(0,o.Wm)((0,o.SU)(i.zx),{onClick:e=>p(a)},{default:(0,o.w5)(()=>l[2]||(l[2]=[(0,o.Uk)(" 部分选项禁用 ")])),_:2,__:[2]},1032,["onClick"]),(0,o.Wm)((0,o.SU)(i.zx),{onClick:e=>g(a)},{default:(0,o.w5)(()=>l[3]||(l[3]=[(0,o.Uk)(" 全部选项禁用 ")])),_:2,__:[3]},1032,["onClick"])]),(0,o._)("p",null,"show value: "+(0,o.zw)(n),1),(0,o._)("p",null,"modelValue: "+(0,o.zw)((0,o.SU)(u)),1)])]}),_:1},8,["modelValue","picker-props"]))}}),Z=(0,s.default)(T,[["__scopeId","data-v-acdefdb2"]]),I=(0,o.aZ)({__name:"index",setup:e=>(e,l)=>{let a=(0,o.up)("demo-block");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(a,{title:"基础用法"},{default:(0,o.w5)(()=>[(0,o.Wm)(u)]),_:1}),(0,o.Wm)(a,{title:"开启搜索功能"},{default:(0,o.w5)(()=>[(0,o.Wm)(p)]),_:1}),(0,o.Wm)(a,{title:"禁用选项逻辑增强"},{default:(0,o.w5)(()=>[(0,o.Wm)(Z)]),_:1})],64)}}),N=I},8663:function(e,l,a){a.d(l,{Z:()=>m});var o=a("2885"),n=a("3576"),t=a("730"),i=a("2612"),r=a("9320"),d=a("798"),s=a("391");let u={class:"single-picker"},c=(0,o.aZ)({name:"SinglePicker",props:{showSearch:{type:Boolean,default:!1},searchDelay:{default:300},modelValue:{},pickerProps:{}},emits:["search","confirm","confirmDisabledOption","update:modelValue"],setup(e,l){let{expose:a,emit:c}=l,m=(0,o.Fl)(()=>{var l;return Object.assign({text:"label",value:"value"},(null==e?void 0:null===(l=e.pickerProps)||void 0===l?void 0:l.columnsFieldNames)??{})}),v=(0,o.Fl)(()=>Object.assign((null==e?void 0:e.pickerProps)??{},{columnsFieldNames:m.value})),[p,g]=(0,d.$)(!1),f=()=>{g(!0)},[w,S]=(0,d.$)(e.modelValue);(0,o.YP)(()=>e.modelValue,S,{immediate:!0});let k=e=>{S(e),c("update:modelValue",e)},[b,h]=(0,d.$)({}),y=e=>{let l={...b.value??{}};e.forEach(e=>{l[e[m.value.value]]=e}),h({...l})};(0,o.YP)(()=>{var e;return null===(e=v.value)||void 0===e?void 0:e.columns},e=>{y(e??[])},{immediate:!0});let[_,U]=(0,d.$)("");(0,o.YP)([w,b],e=>{let[l,a]=e;U(null==a?void 0:a[l])},{immediate:!0});let C=(0,o.Fl)(()=>{var e;return null===(e=_.value)||void 0===e?void 0:e[m.value.text]}),x=e=>{var l,a,o;let n;let{selectedOptions:t,selectedValues:i}=e;if(null===(a=v.value)||void 0===a?void 0:null===(l=a.columns)||void 0===l?void 0:l.length)n=(0,s.aQ)(t);else{let e=(0,s.aQ)(i);n=null===(o=b.value)||void 0===o?void 0:o[e]}if(n.disabled){c("confirmDisabledOption",{option:n,closePopup:()=>g(!1)});return}c("confirm",n),k(null==n?void 0:n[m.value.value]),g(!1)},[W,O]=(0,d.$)(void 0),V=(0,n.debounce)(e=>{c("search",e)},e.searchDelay);return a({}),(e,l)=>((0,o.wg)(),(0,o.iD)("div",u,[(0,o.WI)(e.$slots,"trigger",{triggerPopupShow:f,showValue:C.value,selectedOption:(0,o.SU)(_)}),(0,o.Wm)((0,o.SU)(t.GI),{show:(0,o.SU)(p),"onUpdate:show":l[3]||(l[3]=e=>(0,o.dq)(p)?p.value=e:null),position:"bottom",round:""},{default:(0,o.w5)(()=>[(0,o.Wm)((0,o.SU)(i.cW),(0,o.dG)(v.value,{onConfirm:l[1]||(l[1]=e=>x(e)),onCancel:l[2]||(l[2]=e=>(0,o.SU)(g)(!1))}),(0,o.Nv)({_:2},[(0,o.Ko)(e.$slots,(l,a)=>({name:a,fn:(0,o.w5)(l=>[(0,o.WI)(e.$slots,a,(0,o.dG)(l,{key:a}))])})),e.showSearch?{name:"title",fn:(0,o.w5)(()=>[(0,o.Wm)((0,o.SU)(r.ol),{shape:"round",placeholder:"请输入搜索关键词",modelValue:(0,o.SU)(W),"onUpdate:modelValue":[l[0]||(l[0]=e=>(0,o.dq)(W)?W.value=e:null),(0,o.SU)(V)]},null,8,["modelValue","onUpdate:modelValue"])]),key:"0"}:void 0]),1040)]),_:3},8,["show"])]))}}),m=(0,a("6521").default)(c,[["__scopeId","data-v-c9b20412"]])},6537:function(e,l,a){a.d(l,{zx:()=>w});var o=a("5284"),n=a("2885"),t=a("8134"),i=a("7710"),r=a("792"),d=a("8429"),s=a("5507"),u=a("1107"),c=a("677"),m=a("8681");let[v,p]=(0,t.do)("button"),g=(0,i.l7)({},u.g2,{tag:(0,r.SQ)("button"),text:String,icon:String,type:(0,r.SQ)("default"),size:(0,r.SQ)("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:(0,r.SQ)("button"),loadingSize:r.Or,loadingText:String,loadingType:String,iconPosition:(0,r.SQ)("left")});var f=(0,n.aZ)({name:v,props:g,emits:["click"],setup(e,{emit:l,slots:a}){let o=(0,u.yj)(),t=()=>a.loading?a.loading():(0,n.Wm)(m.gb,{size:e.loadingSize,type:e.loadingType,class:p("loading")},null),i=()=>e.loading?t():a.icon?(0,n.Wm)("div",{class:p("icon")},[a.icon()]):e.icon?(0,n.Wm)(c.JO,{name:e.icon,class:p("icon"),classPrefix:e.iconPrefix},null):void 0,r=()=>{let l;if(l=e.loading?e.loadingText:a.default?a.default():e.text)return(0,n.Wm)("span",{class:p("text")},[l])},v=()=>{let{color:l,plain:a}=e;if(l){let e={color:a?l:"white"};return!a&&(e.background=l),l.includes("gradient")?e.border=0:e.borderColor=l,e}},g=a=>{e.loading?(0,d.PF)(a):!e.disabled&&(l("click",a),o())};return()=>{let{tag:l,type:a,size:o,block:t,round:d,plain:u,square:c,loading:m,disabled:f,hairline:w,nativeType:S,iconPosition:k}=e,b=[p([a,o,{plain:u,block:t,round:d,square:c,loading:m,disabled:f,hairline:w}]),{[s._K]:w}];return(0,n.Wm)(l,{type:S,class:b,style:v(),disabled:f,onClick:g},{default:()=>[(0,n.Wm)("div",{class:p("content")},["left"===k&&i(),r(),"right"===k&&i()])]})}}});let w=(0,o.n)(f)}}]);