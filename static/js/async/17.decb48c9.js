(self.webpackChunk=self.webpackChunk||[]).push([["17"],{3368:function(e){var t,r;t=0,r=function(){"use strict";var e="millisecond",t="second",r="minute",n="hour",a="week",u="month",l="quarter",i="year",o="date",s="Invalid Date",c=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f=function(e,t,r){var n=String(e);return!n||n.length>=t?e:""+Array(t+1-n.length).join(r)+e},v="en",m={};m[v]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||"th")+"]"}};var h="$isDayjsObject",p=function(e){return e instanceof y||!(!e||!e[h])},g=function e(t,r,n){var a;if(!t)return v;if("string"==typeof t){var u=t.toLowerCase();m[u]&&(a=u),r&&(m[u]=r,a=u);var l=t.split("-");if(!a&&l.length>1)return e(l[0])}else{var i=t.name;m[i]=t,a=i}return!n&&a&&(v=a),a||!n&&v},w=function(e,t){if(p(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new y(r)},_={s:f,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+f(Math.floor(r/60),2,"0")+":"+f(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var n=12*(r.year()-t.year())+(r.month()-t.month()),a=t.clone().add(n,u),l=r-a<0,i=t.clone().add(n+(l?-1:1),u);return+(-(n+(r-a)/(l?a-i:i-a))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(s){return({M:u,y:i,w:a,d:"day",D:o,h:n,m:r,s:t,ms:e,Q:l})[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};_.l=g,_.i=p,_.w=function(e,t){return w(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var y=function(){function f(e){this.$L=g(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[h]=!0}var v=f.prototype;return v.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(_.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var n=t.match(c);if(n){var a=n[2]-1||0,u=(n[7]||"0").substring(0,3);return r?new Date(Date.UTC(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,u)):new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,u)}}return new Date(t)}(e),this.init()},v.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},v.$utils=function(){return _},v.isValid=function(){return this.$d.toString()!==s},v.isSame=function(e,t){var r=w(e);return this.startOf(t)<=r&&r<=this.endOf(t)},v.isAfter=function(e,t){return w(e)<this.startOf(t)},v.isBefore=function(e,t){return this.endOf(t)<w(e)},v.$g=function(e,t,r){return _.u(e)?this[t]:this.set(r,e)},v.unix=function(){return Math.floor(this.valueOf()/1e3)},v.valueOf=function(){return this.$d.getTime()},v.startOf=function(e,l){var s=this,c=!!_.u(l)||l,d=_.p(e),f=function(e,t){var r=_.w(s.$u?Date.UTC(s.$y,t,e):new Date(s.$y,t,e),s);return c?r:r.endOf("day")},v=function(e,t){return _.w(s.toDate()[e].apply(s.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(t)),s)},m=this.$W,h=this.$M,p=this.$D,g="set"+(this.$u?"UTC":"");switch(d){case i:return c?f(1,0):f(31,11);case u:return c?f(1,h):f(0,h+1);case a:var w=this.$locale().weekStart||0,y=(m<w?m+7:m)-w;return f(c?p-y:p+(6-y),h);case"day":case o:return v(g+"Hours",0);case n:return v(g+"Minutes",1);case r:return v(g+"Seconds",2);case t:return v(g+"Milliseconds",3);default:return this.clone()}},v.endOf=function(e){return this.startOf(e,!1)},v.$set=function(a,l){var s,c=_.p(a),d="set"+(this.$u?"UTC":""),f=((s={}).day=d+"Date",s[o]=d+"Date",s[u]=d+"Month",s[i]=d+"FullYear",s[n]=d+"Hours",s[r]=d+"Minutes",s[t]=d+"Seconds",s[e]=d+"Milliseconds",s)[c],v="day"===c?this.$D+(l-this.$W):l;if(c===u||c===i){var m=this.clone().set(o,1);m.$d[f](v),m.init(),this.$d=m.set(o,Math.min(this.$D,m.daysInMonth())).$d}else f&&this.$d[f](v);return this.init(),this},v.set=function(e,t){return this.clone().$set(e,t)},v.get=function(e){return this[_.p(e)]()},v.add=function(e,l){var o,s=this;e=Number(e);var c=_.p(l),d=function(t){var r=w(s);return _.w(r.date(r.date()+Math.round(t*e)),s)};if(c===u)return this.set(u,this.$M+e);if(c===i)return this.set(i,this.$y+e);if("day"===c)return d(1);if(c===a)return d(7);var f=((o={})[r]=6e4,o[n]=36e5,o[t]=1e3,o)[c]||1,v=this.$d.getTime()+e*f;return _.w(v,this)},v.subtract=function(e,t){return this.add(-1*e,t)},v.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||s;var n=e||"YYYY-MM-DDTHH:mm:ssZ",a=_.z(this),u=this.$H,l=this.$m,i=this.$M,o=r.weekdays,c=r.months,f=r.meridiem,v=function(e,r,a,u){return e&&(e[r]||e(t,n))||a[r].slice(0,u)},m=function(e){return _.s(u%12||12,e,"0")},h=f||function(e,t,r){var n=e<12?"AM":"PM";return r?n.toLowerCase():n};return n.replace(d,function(e,n){return n||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return _.s(t.$y,4,"0");case"M":return i+1;case"MM":return _.s(i+1,2,"0");case"MMM":return v(r.monthsShort,i,c,3);case"MMMM":return v(c,i);case"D":return t.$D;case"DD":return _.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return v(r.weekdaysMin,t.$W,o,2);case"ddd":return v(r.weekdaysShort,t.$W,o,3);case"dddd":return o[t.$W];case"H":return String(u);case"HH":return _.s(u,2,"0");case"h":return m(1);case"hh":return m(2);case"a":return h(u,l,!0);case"A":return h(u,l,!1);case"m":return String(l);case"mm":return _.s(l,2,"0");case"s":return String(t.$s);case"ss":return _.s(t.$s,2,"0");case"SSS":return _.s(t.$ms,3,"0");case"Z":return a}return null}(e)||a.replace(":","")})},v.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},v.diff=function(e,o,s){var c,d=this,f=_.p(o),v=w(e),m=(v.utcOffset()-this.utcOffset())*6e4,h=this-v,p=function(){return _.m(d,v)};switch(f){case i:c=p()/12;break;case u:c=p();break;case l:c=p()/3;break;case a:c=(h-m)/6048e5;break;case"day":c=(h-m)/864e5;break;case n:c=h/36e5;break;case r:c=h/6e4;break;case t:c=h/1e3;break;default:c=h}return s?c:_.a(c)},v.daysInMonth=function(){return this.endOf(u).$D},v.$locale=function(){return m[this.$L]},v.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),n=g(e,t,!0);return n&&(r.$L=n),r},v.clone=function(){return _.w(this.$d,this)},v.toDate=function(){return new Date(this.valueOf())},v.toJSON=function(){return this.isValid()?this.toISOString():null},v.toISOString=function(){return this.$d.toISOString()},v.toString=function(){return this.$d.toUTCString()},f}(),S=y.prototype;return w.prototype=S,[["$ms",e],["$s",t],["$m",r],["$H",n],["$W","day"],["$M",u],["$y",i],["$D",o]].forEach(function(e){S[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),w.extend=function(e,t){return e.$i||(e(t,y,w),e.$i=!0),w},w.locale=g,w.isDayjs=p,w.unix=function(e){return w(1e3*e)},w.en=m[v],w.Ls=m,w.p={},w},e.exports=r()},1120:function(e,t,r){"use strict";r.r(t),r.d(t,{default:()=>V});var n=r("2885"),a=r("798"),u=r("4923"),l=r("6537");let i={class:"trigger-box"},o=(0,n.aZ)({__name:"BasicUsage",setup(e){let[t]=(0,a.$)(["",""]);return(e,r)=>((0,n.wg)(),(0,n.j4)((0,n.SU)(u.Dw),{modelValue:(0,n.SU)(t),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,n.dq)(t)?t.value=e:null),"picker-group-props":{title:"基础用法"}},{trigger:(0,n.w5)(e=>{let{triggerPopupShow:a,showValue:u}=e;return[(0,n._)("div",i,[(0,n._)("p",null,"value: "+(0,n.zw)((0,n.SU)(t)),1),(0,n._)("p",null,"showValue: "+(0,n.zw)(u),1),(0,n.Wm)((0,n.SU)(l.zx),{onClick:a},{default:(0,n.w5)(()=>r[1]||(r[1]=[(0,n.Uk)(" trigger ")])),_:2,__:[1]},1032,["onClick"])])]}),_:1},8,["modelValue"]))}});var s=r("6521");let c=(0,s.default)(o,[["__scopeId","data-v-54bd414e"]]);var d=r("425"),f=r("3368"),v=r.n(f);let m={class:"trigger-box"},h=(0,n.aZ)({__name:"ShowValueFormatter",setup(e){let[t]=(0,a.$)(["2020-03-04","2030-05-06"]);return(e,r)=>((0,n.wg)(),(0,n.j4)((0,n.SU)(u.Dw),{modelValue:(0,n.SU)(t),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,n.dq)(t)?t.value=e:null),"show-value-formatter":e=>{let{startDate:t,endDate:r}=e;if(t&&r)return(0,n.SU)(v())(t).format("YY年MM月DD日")+" / "+(0,n.SU)(v())(r).format("YY年MM月DD日")},"picker-group-props":{title:"格式化展示值"},onConfirm:r[1]||(r[1]=e=>{(0,n.SU)(d.CF)(`dayjs(date).format('YY年MM月DD日'))`),console.log(e)})},{trigger:(0,n.w5)(e=>{let{triggerPopupShow:a,showValue:u}=e;return[(0,n._)("div",m,[(0,n._)("p",null,"value: "+(0,n.zw)((0,n.SU)(t)),1),(0,n._)("p",null,"showValue: "+(0,n.zw)(u),1),(0,n.Wm)((0,n.SU)(l.zx),{type:"primary",onClick:a},{default:(0,n.w5)(()=>r[2]||(r[2]=[(0,n.Uk)(" trigger ")])),_:2,__:[2]},1032,["onClick"])])]}),_:1},8,["modelValue","show-value-formatter"]))}}),p=(0,s.default)(h,[["__scopeId","data-v-37bfb23d"]]);var g=r("4055");let w={class:"trigger-box"},_=(0,n.aZ)({__name:"SetPickerRealtimeDate",setup(e){let t=(0,n.iH)(),[r]=(0,a.$)(["2020-03-04","2030-05-06"]);return(e,a)=>((0,n.wg)(),(0,n.j4)((0,n.SU)(u.Dw),{ref_key:"DateRangePickerRef",ref:t,modelValue:(0,n.SU)(r),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,n.dq)(r)?r.value=e:null),"picker-group-props":{title:"设置 picker 默认选中项"}},{trigger:(0,n.w5)(e=>{let{triggerPopupShow:u,pickerRealtimeOptions:i,showValue:o}=e;return[(0,n._)("div",w,[(0,n._)("p",null,"value:"+(0,n.zw)((0,n.SU)(r)),1),(0,n._)("p",null,"showValue:"+(0,n.zw)(o),1),a[4]||(a[4]=(0,n._)("p",null,"picker 实时选中值\uD83D\uDC47",-1)),(0,n._)("p",null,(0,n.zw)(i),1),a[5]||(a[5]=(0,n._)("p",null,"(modelValue 有值，则以 modelValue 为准)",-1)),(0,n.Wm)((0,n.SU)(g.T),null,{default:(0,n.w5)(()=>[(0,n.Wm)((0,n.SU)(l.zx),{type:"primary",onClick:u},{default:(0,n.w5)(()=>a[2]||(a[2]=[(0,n.Uk)(" trigger ")])),_:2,__:[2]},1032,["onClick"]),(0,n.Wm)((0,n.SU)(l.zx),{type:"warning",onClick:a[0]||(a[0]=()=>{var e;return null===(e=t.value)||void 0===e?void 0:e.setPickerRealtimeDate({start:"2022-02-02",end:"2033-03-03"})})},{default:(0,n.w5)(()=>a[3]||(a[3]=[(0,n.Uk)(" 2022-02-02 ~ 2033-03-03 ")])),_:1,__:[3]})]),_:2},1024)])]}),_:1},8,["modelValue"]))}}),y=(0,s.default)(_,[["__scopeId","data-v-088b1b0a"]]),S={class:"trigger-box"},$=(0,n.aZ)({__name:"BeforeConfirm",setup(e){let[t]=(0,a.$)(["",""]);return(e,r)=>((0,n.wg)(),(0,n.j4)((0,n.SU)(u.Dw),{modelValue:(0,n.SU)(t),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,n.dq)(t)?t.value=e:null),"picker-group-props":{title:"beforeConfirm"},"before-confirm":e=>{let[t,r]=e;return t==(0,n.SU)(v())().format("YYYY-MM-DD")&&t===r||((0,n.SU)(d.LJ)("请选择当前日期"),!1)}},{trigger:(0,n.w5)(e=>{let{triggerPopupShow:a,showValue:u}=e;return[(0,n._)("div",S,[(0,n._)("p",null,"value: "+(0,n.zw)((0,n.SU)(t)),1),(0,n._)("p",null,"showValue: "+(0,n.zw)(u),1),(0,n.Wm)((0,n.SU)(l.zx),{onClick:a},{default:(0,n.w5)(()=>r[1]||(r[1]=[(0,n.Uk)(" trigger ")])),_:2,__:[1]},1032,["onClick"])])]}),_:1},8,["modelValue","before-confirm"]))}}),D=(0,s.default)($,[["__scopeId","data-v-47327908"]]),k={class:"trigger-box"},M=(0,n.aZ)({__name:"ColumnsType",setup(e){let[t]=(0,a.$)(["",""]);return(e,r)=>((0,n.wg)(),(0,n.j4)((0,n.SU)(u.Dw),{modelValue:(0,n.SU)(t),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,n.dq)(t)?t.value=e:null),"picker-group-props":{title:"设置 columnsType"},"picker-props":{columnsType:["month","day"]}},{trigger:(0,n.w5)(e=>{let{triggerPopupShow:a,showValue:u}=e;return[(0,n._)("div",k,[(0,n._)("p",null,"value: "+(0,n.zw)((0,n.SU)(t)),1),(0,n._)("p",null,"showValue: "+(0,n.zw)(u),1),(0,n.Wm)((0,n.SU)(l.zx),{onClick:a},{default:(0,n.w5)(()=>r[1]||(r[1]=[(0,n.Uk)(" trigger ")])),_:2,__:[1]},1032,["onClick"])])]}),_:1},8,["modelValue"]))}}),b=(0,s.default)(M,[["__scopeId","data-v-3b0aa15a"]]),x={class:"trigger-box"},U=(0,n.aZ)({__name:"ConfirmButtonText",setup(e){let[t]=(0,a.$)(["",""]);return(e,r)=>((0,n.wg)(),(0,n.j4)((0,n.SU)(u.Dw),{modelValue:(0,n.SU)(t),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,n.dq)(t)?t.value=e:null),"picker-group-props":{title:"设置 confirmButtonText",confirmButtonText:"\uD83D\uDC49✅\uD83D\uDC48"}},{trigger:(0,n.w5)(e=>{let{triggerPopupShow:t}=e;return[(0,n._)("div",x,[(0,n.Wm)((0,n.SU)(l.zx),{onClick:t},{default:(0,n.w5)(()=>r[1]||(r[1]=[(0,n.Uk)(" trigger ")])),_:2,__:[1]},1032,["onClick"])])]}),_:1},8,["modelValue"]))}}),T=(0,s.default)(U,[["__scopeId","data-v-4624ac0b"]]),C={class:"trigger-box"},W=(0,n.aZ)({__name:"Toolbar",setup(e){let[t]=(0,a.$)(["",""]);return(e,r)=>((0,n.wg)(),(0,n.j4)((0,n.SU)(u.Dw),{modelValue:(0,n.SU)(t),"onUpdate:modelValue":r[0]||(r[0]=e=>(0,n.dq)(t)?t.value=e:null),"picker-group-props":{title:"设置 toolbar"}},{trigger:(0,n.w5)(e=>{let{triggerPopupShow:t}=e;return[(0,n._)("div",C,[(0,n.Wm)((0,n.SU)(l.zx),{onClick:t},{default:(0,n.w5)(()=>r[1]||(r[1]=[(0,n.Uk)(" trigger ")])),_:2,__:[1]},1032,["onClick"])])]}),toolbar:(0,n.w5)(()=>r[2]||(r[2]=[(0,n.Uk)(" \uD83D\uDC49自定义工具栏\uD83D\uDC48 ")])),_:1},8,["modelValue"]))}}),E=(0,s.default)(W,[["__scopeId","data-v-44b5d9e6"]]),O=(0,n.aZ)({__name:"index",setup:e=>(e,t)=>{let r=(0,n.up)("demo-block");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n.Wm)(r,{title:"基础用法"},{default:(0,n.w5)(()=>[(0,n.Wm)(c)]),_:1}),(0,n.Wm)(r,{title:"格式化展示值"},{default:(0,n.w5)(()=>[(0,n.Wm)(p)]),_:1}),(0,n.Wm)(r,{title:"自定义 picker 打开时默认选中的值"},{default:(0,n.w5)(()=>[(0,n.Wm)(y)]),_:1}),(0,n.Wm)(r,{title:"确认前的自定义拦截处理逻辑"},{default:(0,n.w5)(()=>[(0,n.Wm)(D)]),_:1}),(0,n.Wm)(r,{title:"支持所有 date-picker props"},{default:(0,n.w5)(()=>[(0,n.Wm)(r,{title:"例如设置 columnsType 为: 月日",style:{padding:"0px 20px"}},{default:(0,n.w5)(()=>[(0,n.Wm)(b)]),_:1})]),_:1}),(0,n.Wm)(r,{title:"支持所有 picker-group props"},{default:(0,n.w5)(()=>[(0,n.Wm)(r,{title:"例如设置 confirmButtonText",style:{padding:"0px 20px"}},{default:(0,n.w5)(()=>[(0,n.Wm)(T)]),_:1})]),_:1}),(0,n.Wm)(r,{title:"支持所有 picker-group slots"},{default:(0,n.w5)(()=>[(0,n.Wm)(r,{title:"例如设置 toolbar",style:{padding:"0px 20px"}},{default:(0,n.w5)(()=>[(0,n.Wm)(E)]),_:1})]),_:1})],64)}}),V=(0,s.default)(O,[["__scopeId","data-v-26c04286"]])},4055:function(e,t,r){"use strict";r.d(t,{T:()=>o});var n=r("5284"),a=r("2885");let[u,l]=(0,r("8134").do)("space");var i=(0,a.aZ)({name:u,props:{align:String,direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:8},wrap:Boolean,fill:Boolean},setup(e,{slots:t}){let r=(0,a.Fl)(()=>{var t;return null!=(t=e.align)?t:"horizontal"===e.direction?"center":""}),n=e=>"number"==typeof e?e+"px":e,i=t=>{let r={},a=`${n(Array.isArray(e.size)?e.size[0]:e.size)}`,u=`${n(Array.isArray(e.size)?e.size[1]:e.size)}`;return t?e.wrap?{marginBottom:u}:{}:("horizontal"===e.direction&&(r.marginRight=a),("vertical"===e.direction||e.wrap)&&(r.marginBottom=u),r)};return()=>{var n;let o=function e(t=[]){let r=[];return t.forEach(t=>{Array.isArray(t)?r.push(...t):t.type===a.HY?r.push(...e(t.children)):r.push(t)}),r.filter(e=>{var t;return!(e&&(e.type===a.sv||e.type===a.HY&&(null==(t=e.children)?void 0:t.length)===0||e.type===a.xv&&""===e.children.trim()))})}(null==(n=t.default)?void 0:n.call(t));return(0,a.Wm)("div",{class:[l({[e.direction]:e.direction,[`align-${r.value}`]:r.value,wrap:e.wrap,fill:e.fill})]},[o.map((e,t)=>(0,a.Wm)("div",{key:`item-${t}`,class:`${u}-item`,style:i(t===o.length-1)},[e]))])}}});let o=(0,n.n)(i)},798:function(e,t,r){"use strict";let n,a,u,l,i,o,s,c,d;r.d(t,{$:function(){return m}});var f,v=r(2885);function m(e){let t=(0,v.iH)(e);return[t,e=>{t.value=e}]}Symbol("GLOBAL_OPTIONS_PROVIDE_KEY");let h=e=>Array.isArray(e),p=e=>null!==e&&"object"==typeof e,g=e=>e instanceof Function,w=e=>null==e,_=typeof window>"u",y=()=>{var e;return!!(_||w(null===(e=window.document)||void 0===e?void 0:e.visibilityState))||"visible"===window.document.visibilityState},S=()=>{var e,t;return null===(e=!_&&(null===(t=window.navigator)||void 0===t?void 0:t.onLine))||void 0===e||e},$=e=>(0,v.dq)(e)?e.value:e,D=new Map,k=e=>w(e)?void 0:D.get(e),M=(e,t,r)=>{let n=D.get(e);null!=n&&n.timer&&clearTimeout(n.timer);let a=setTimeout(()=>D.delete(e),t);D.set(e,{...r,timer:a})};function b(e,t,r){let n,a,u,l,i,o,s=0,c=!1,d=!1,f=!0,v=!t&&0!==t&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw TypeError("Expected a function");function m(t){let r=n,u=a;return n=a=void 0,s=t,l=e.apply(u,r)}function h(e,t){return v?(window.cancelAnimationFrame(i),window.requestAnimationFrame(e)):setTimeout(e,t)}t=+t||0,p(r)&&(c=!!r.leading,u=(d="maxWait"in r)?Math.max(+r.maxWait||0,t):u,f="trailing"in r?!!r.trailing:f);function g(e){let r=e-o,n=e-s;return void 0===o||r>=t||r<0||d&&n>=u}function w(){let e=Date.now();if(g(e))return _(e);i=h(w,function(e){let r=e-o,n=e-s,a=t-r;return d?Math.min(a,u-n):a}(e))}function _(e){return i=void 0,f&&n?m(e):(n=a=void 0,l)}function y(){let e=Date.now(),r=g(e);for(var u,f=arguments.length,v=Array(f),p=0;p<f;p++)v[p]=arguments[p];if(n=v,a=this,o=e,r){if(void 0===i){;return s=u=o,i=h(w,t),c?m(u):l}if(d)return i=h(w,t),m(o)}return void 0===i&&(i=h(w,t)),l}return y.cancel=function(){void 0!==i&&function(e){if(v)return window.cancelAnimationFrame(e);clearTimeout(e)}(i),s=0,n=o=a=i=void 0},y.flush=function(){return void 0===i?l:_(Date.now())},y.pending=function(){return void 0!==i},y}n=(e,t)=>{let{debounceInterval:r,debounceOptions:n,manual:a}=t,u=(0,v.iH)(!1),l=(0,v.iH)(),i=(0,v.Fl)(()=>n),o=(0,v.Fl)(()=>$(r)),s=(0,v.iH)(e.context.runAsync);return a||(u.value=!0),(0,v.m0)(t=>{w(o.value)||(l.value=b(e=>e(),o.value,i.value),e.context.runAsync=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise((e,r)=>{u.value?(u.value=!1,s.value(...t).then(e).catch(r)):l.value(()=>{s.value(...t).then(e).catch(r)})})},t(()=>{var t;null===(t=l.value)||void 0===t||t.cancel(),e.context.runAsync=s.value}))}),{onCancel(){var e;null===(e=l.value)||void 0===e||e.cancel()}}},a=(e,t)=>{let{errorRetryCount:r=0,errorRetryInterval:n=0}=t,a=(0,v.iH)(),u=(0,v.iH)(0),l=(0,v.Fl)(()=>$(r)),i=(0,v.Fl)(()=>$(n)),o=!1,s=()=>{u.value=0},c=(0,v.Fl)(()=>i.value?i.value:1e3*Math.floor(Math.random()*2**Math.min(u.value,9)+1)),d=()=>{let t;let r=-1===l.value,n=u.value<l.value;return(r||n)&&(r||(u.value+=1),t=setTimeout(()=>{o=!0,e.context.refresh()},c.value)),()=>t&&clearTimeout(t)},f=()=>{a.value&&a.value()};return{onBefore(){o||s(),o=!1,f()},onSuccess(){s()},onError(){a.value=d()},onCancel(){s(),f()}}},u=(e,t)=>{let{ready:r=(0,v.iH)(!0),manual:n,defaultParams:a=[]}=t;return(0,v.YP)(r,t=>{!n&&t&&e.context.run(...a)},{flush:"sync"}),{onBefore(){if(!(g(r)?r():r.value))return e.loading.value=!1,{isBreak:!0}}}},l=(e,t)=>{let{refreshDeps:r,refreshDepsAction:n,manual:a}=t;if(void 0===r||h(r)&&0===r.length)return{};let u=h(r)?r:[r];return(0,v.YP)(u,()=>{n?n():a||e.context.refresh()}),{}},i=(e,t)=>{let{throttleInterval:r,throttleOptions:n}=t,a=(0,v.iH)(),u=(0,v.Fl)(()=>$(r)),l=(0,v.Fl)(()=>n),i=(0,v.iH)(e.context.runAsync);return(0,v.m0)(t=>{if(w(r))return{};a.value=function(e,t,r){let n=!0,a=!0;if("function"!=typeof e)throw TypeError("Expected a function");return p(r)&&(n="leading"in r?!!r.leading:n,a="trailing"in r?!!r.trailing:a),b(e,t,{leading:n,trailing:a,maxWait:t})}(e=>e(),u.value,l.value),e.context.runAsync=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return new Promise((e,r)=>{a.value(()=>{i.value(...t).then(e).catch(r)})})},t(()=>{var t;null===(t=a.value)||void 0===t||t.cancel(),e.context.runAsync=i.value})}),{onCancel(){var e;null===(e=a.value)||void 0===e||e.cancel()}}};let x=new Map,U=(e,t)=>{x.set(e,t),t.then(t=>(x.delete(e),t)).catch(()=>{x.delete(e)})},T=e=>x.get(e),C=new Map,W=(e,t)=>{C.has(e)&&C.get(e).forEach(e=>e(t))},E=(e,t)=>(C.has(e)?C.get(e).push(t):C.set(e,[t]),()=>{let r=C.get(e).indexOf(t);C.get(e).splice(r,1)});o=(e,t)=>{let r,{cacheKey:n,cacheTime:a=6e5,staleTime:u=0,getCache:l,setCache:i}=t;if(!n)return{};let o=g(n)?n:()=>n,s=(0,v.iH)(()=>{}),c=e=>l?l(e):k(e),d=(e,t,r)=>{i?i(e,r):M(e,t,r),W(e,r.data)},f=e=>-1===u||e+u>new Date().getTime(),m=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),h=t=>E(o(t),t=>{e.data.value=t}),p=o(),w=c(p);return w&&m(w,"data")&&(e.data.value=w.data,e.params.value=w.params),p&&(s.value=h()),(0,v.SK)(()=>{s.value()}),{onBefore(t){let r=c(o(t));return r&&m(r,"data")?f(r.time)?(e.data.value=r.data,e.loading.value=!1,{isBreak:!0,breakResult:r.data}):void(e.data.value=r.data):{}},onQuery(t){let n=o(e.params.value),a=T(n);return a&&a!==r||(r=a=t(),U(n,a)),()=>a},onSuccess(e,t){let r=o(t);r&&(s.value(),d(r,a,{data:e,params:t,time:new Date().getTime()}),s.value=h(t))},onMutate(t){let r=o(e.params.value);r&&(s.value(),d(r,a,{data:t,params:e.params.value,time:new Date().getTime()}),s.value=h(e.params.value))}}};function O(){return new Date().getTime()}s=(e,t)=>{let{loadingDelay:r=0,loadingKeep:n=0}=t,a=(0,v.iH)(()=>{}),u=(0,v.Fl)(()=>$(r)),l=(0,v.Fl)(()=>$(n)),i=0,o={},s=()=>{let t;return u.value&&(t=setTimeout(()=>{"pending"===e.status.value&&(e.loading.value=!0)},u.value)),()=>t&&clearTimeout(t)};return{onBefore(){e.loading.value=!u.value,a.value(),a.value=s(),i=O()},onQuery(e){var t;let r,n;if(!l.value)return()=>e();t=l.value+u.value,o=new class e extends Promise{constructor(e){super(e),this.cancel=()=>{n(),clearTimeout(r)}}}(e=>{r=setTimeout(n=e,t)});let a=Promise.allSettled([(async()=>{try{let t=await e();return O()-i<=u.value&&o.cancel(),Promise.resolve(t)}catch(e){return O()-i<=u.value&&o.cancel(),Promise.reject(e)}})(),o]).then(e=>{let t=e[0];return"fulfilled"===t.status?t.value:Promise.reject(t.reason)});return()=>a},onCancel(){a.value()},onAfter(){a.value()}}};let V=new Set,A=new Set,I=new Set,z=(e,t)=>{let r;switch(e){case"FOCUS_LISTENER":r=V;break;case"RECONNECT_LISTENER":r=I;break;case"VISIBLE_LISTENER":r=A}if(!r.has(t))return r.add(t),()=>{r.delete(t)}},H=e=>{e.forEach(e=>{e()})};!_&&null!==(f=window)&&void 0!==f&&f.addEventListener&&(window.addEventListener("visibilitychange",()=>{y()&&H(A)},!1),window.addEventListener("focus",()=>H(V),!1),window.addEventListener("online",()=>H(I),!1));c=(e,t)=>{let{pollingInterval:r,pollingWhenHidden:n=!1,pollingWhenOffline:a=!1,errorRetryCount:u=0}=t,l=(0,v.iH)(),i=(0,v.iH)(!1),o=(0,v.Fl)(()=>$(r)),s=(0,v.Fl)(()=>$(u)),c=[],d=e=>{e&&c.push(e)},f=()=>(n||y())&&(a||S()),m=t=>{let r;if(!e.error.value||0===s.value){if(!w(o.value)&&o.value>=0){if(f())r=setTimeout(t,o.value);else{i.value=!0;return}}return()=>r&&clearTimeout(r)}},h=()=>{i.value&&f()&&(e.context.refresh(),i.value=!1)};return(0,v.YP)(o,()=>{l.value&&(l.value(),l.value=m(()=>e.context.refresh()))}),n||d(z("VISIBLE_LISTENER",h)),a||d(z("RECONNECT_LISTENER",h)),(0,v.SK)(()=>{c.forEach(e=>e())}),{onBefore(){var e;null===(e=l.value)||void 0===e||e.call(l)},onCancel(){var e;null===(e=l.value)||void 0===e||e.call(l)},onAfter(){l.value=m(()=>e.context.refresh())}}};let Y=(e,t)=>{let r=!1;return function(){r||(r=!0,e(...arguments),setTimeout(()=>{r=!1},t))}};d=(e,t)=>{let{refreshOnWindowFocus:r=!1,refocusTimespan:n=5e3}=t,a=(0,v.Fl)(()=>$(r)),u=(0,v.Fl)(()=>$(n)),l=[],i=e=>{e&&l.push(e)},o=()=>{l.forEach(e=>e())};return(0,v.m0)(()=>{if(o(),a.value){let t=Y(e.context.refresh,u.value);i(z("VISIBLE_LISTENER",t)),i(z("FOCUS_LISTENER",t))}}),(0,v.SK)(()=>{o()}),{}}}}]);