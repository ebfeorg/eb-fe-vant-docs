"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["234"],{6794:function(e,l,a){a.r(l),a.d(l,{default:()=>P});var t=a("2885"),n=a("4923"),u=a("798"),r=a("2498"),o=a("391");let i={class:"demo-section"},d=(0,t.aZ)({__name:"BasicUsage",setup(e){let{AES_Encrypt:l,AES_Dencrypt:a}=(0,o.rL)({key:"12345678"}),[d]=(0,u.$)(""),c=(0,t.Fl)(()=>{var e;return null===(e=s.encrypt)||void 0===e?void 0:e.call(s,d.value)}),s={decrypt:a,encrypt:l,fetchPlaintext:async e=>new Promise(e=>{setTimeout(()=>{console.log("模拟接口调用"),e(c.value)},1e3)})};return(e,l)=>{let a=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.j4)(a,{title:"基础用法"},{default:(0,t.w5)(()=>[(0,t._)("section",i,[l[2]||(l[2]=(0,t._)("span",{class:"demo-section-desc"},"设置初始值: 加密且脱敏",-1)),(0,t.Wm)((0,t.SU)(r.gN),{label:"明文",placeholder:"请输入",modelValue:(0,t.SU)(d),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,t.dq)(d)?d.value=e:null)},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(r.gN),{disabled:"",label:"密文",modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=e=>c.value=e),placeholder:"输入明文, 制造密文"},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(n.V0),{preset:s,"mask-id":"maskId","mask-txt":c.value},null,8,["mask-txt"])])]),_:1})}}});var c=a("6521");let s=(0,c.default)(d,[["__scopeId","data-v-11a8cec9"]]),v={class:"demo-section"},m=(0,t.aZ)({__name:"Placeholder",setup(e){let{AES_Encrypt:l,AES_Dencrypt:a}=(0,o.rL)({key:"12345678"}),[i]=(0,u.$)(""),d=(0,t.Fl)(()=>{var e;return null===(e=c.encrypt)||void 0===e?void 0:e.call(c,i.value)}),c={decrypt:a,encrypt:l,fetchPlaintext:async e=>new Promise(e=>{setTimeout(()=>{console.log("模拟接口调用"),e(d.value)},1e3)}),placeholder:"$"};return(e,l)=>{let a=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.j4)(a,{title:"自定义脱敏占位符号"},{default:(0,t.w5)(()=>[(0,t._)("section",v,[l[2]||(l[2]=(0,t._)("span",{class:"demo-section-desc"},"设置初始值: 加密且脱敏",-1)),(0,t.Wm)((0,t.SU)(r.gN),{label:"明文",placeholder:"请输入",modelValue:(0,t.SU)(i),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,t.dq)(i)?i.value=e:null)},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(r.gN),{disabled:"",label:"密文",modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),placeholder:"输入明文, 制造密文"},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(n.V0),{preset:c,"mask-id":"maskId","mask-txt":d.value},null,8,["mask-txt"])])]),_:1})}}}),p=(0,c.default)(m,[["__scopeId","data-v-3a56df6c"]]);var f=a("6537");let h={class:"demo-section"},w=(0,t.aZ)({__name:"MaskType",setup(e){let[l,a]=(0,u.$)(!0),[i]=(0,u.$)("id"),d=[{label:"身份证",value:"id"},{label:"手机号",value:"phone"},{label:"邮箱",value:"email"},{label:"银行卡号",value:"bankCard"}],c=()=>{a(!1),setTimeout(()=>{a(!0)},300)},{AES_Encrypt:s,AES_Dencrypt:v}=(0,o.rL)({key:"12345678"}),[m]=(0,u.$)(""),p=(0,t.Fl)(()=>{var e,l;return null===(l=w.value)||void 0===l?void 0:null===(e=l.encrypt)||void 0===e?void 0:e.call(l,m.value)}),w=(0,t.Fl)(()=>({decrypt:v,encrypt:s,fetchPlaintext:async e=>new Promise(e=>{setTimeout(()=>{console.log("模拟接口调用"),e(p.value)},1e3)}),maskType:i.value}));return(e,a)=>{let u=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.j4)(u,{title:"自带一些内置脱敏策略"},{default:(0,t.w5)(()=>[(0,t._)("section",h,[(0,t.Wm)((0,t.SU)(n.$y),{modelValue:(0,t.SU)(i),"onUpdate:modelValue":a[0]||(a[0]=e=>(0,t.dq)(i)?i.value=e:null),"picker-props":{title:"基础用法",columns:d},onConfirm:c},{trigger:(0,t.w5)(e=>{let{triggerPopupShow:l,showValue:a}=e;return[(0,t.Wm)((0,t.SU)(f.zx),{type:"primary",onClick:l},{default:(0,t.w5)(()=>[(0,t.Uk)(" 当前脱敏策略: "+(0,t.zw)(a)+" - "+(0,t.zw)((0,t.SU)(i)),1)]),_:2},1032,["onClick"])]}),_:1},8,["modelValue","picker-props"]),a[3]||(a[3]=(0,t._)("span",{class:"demo-section-desc"},"设置初始值: 加密且脱敏",-1)),(0,t.Wm)((0,t.SU)(r.gN),{label:"明文",placeholder:"请输入",modelValue:(0,t.SU)(m),"onUpdate:modelValue":a[1]||(a[1]=e=>(0,t.dq)(m)?m.value=e:null)},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(r.gN),{disabled:"",label:"密文",modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),placeholder:"输入明文, 制造密文"},null,8,["modelValue"]),(0,t.SU)(l)?((0,t.wg)(),(0,t.j4)((0,t.SU)(n.V0),{key:0,preset:w.value,"mask-id":"maskId","mask-txt":p.value},null,8,["preset","mask-txt"])):(0,t.kq)("",!0)])]),_:1})}}}),y=(0,c.default)(w,[["__scopeId","data-v-3085b9db"]]),g={class:"demo-section"},k=(0,t.aZ)({__name:"MaskStrategy",setup(e){let{AES_Encrypt:l,AES_Dencrypt:a}=(0,o.rL)({key:"12345678"}),[i]=(0,u.$)(""),d=(0,t.Fl)(()=>{var e;return null===(e=c.encrypt)||void 0===e?void 0:e.call(c,i.value)}),c={decrypt:a,encrypt:l,fetchPlaintext:async e=>new Promise(e=>{setTimeout(()=>{console.log("模拟接口调用"),e(d.value)},1e3)}),placeholder:"\uD83D\uDE00",maskStrategy(e){try{return`👉${e.replace(/./g,"\uD83D\uDE00")}👈`}catch(e){return""}}};return(e,l)=>{let a=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.j4)(a,{title:"自定义脱敏策略"},{default:(0,t.w5)(()=>[(0,t._)("section",g,[l[2]||(l[2]=(0,t._)("span",{class:"demo-section-desc"},"设置初始值: 加密且脱敏",-1)),(0,t.Wm)((0,t.SU)(r.gN),{label:"明文",placeholder:"请输入",modelValue:(0,t.SU)(i),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,t.dq)(i)?i.value=e:null)},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(r.gN),{disabled:"",label:"密文",modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),placeholder:"输入明文, 制造密文"},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(n.V0),{preset:c,"mask-id":"maskId","mask-txt":d.value},null,8,["mask-txt"])])]),_:1})}}}),_=(0,c.default)(k,[["__scopeId","data-v-f18bbd5c"]]),S={class:"demo-section"},b=(0,t.aZ)({__name:"IconSize",setup(e){let{AES_Encrypt:l,AES_Dencrypt:a}=(0,o.rL)({key:"12345678"}),[r]=(0,u.$)("123**678"),i=(0,t.Fl)(()=>{var e;return null===(e=d.encrypt)||void 0===e?void 0:e.call(d,r.value)}),d={decrypt:a,encrypt:l,fetchPlaintext:async e=>new Promise(e=>{setTimeout(()=>{console.log("模拟接口调用"),e("uZFCVFwW1X+1O2wkVpJNnw==")},1e3)})};return(e,l)=>{let a=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.j4)(a,{title:"自定义图标大小"},{default:(0,t.w5)(()=>[(0,t._)("section",S,[(0,t.Wm)((0,t.SU)(n.V0),{"icon-size":"30",preset:d,"mask-id":"maskId","mask-txt":i.value},null,8,["mask-txt"])])]),_:1})}}}),V=(0,c.default)(b,[["__scopeId","data-v-1203a957"]]);var U=a("677"),x=a("8681");let T={class:"demo-section"},E={style:{color:"red"}},I=(0,t.aZ)({__name:"Slot",setup(e){let{AES_Encrypt:l,AES_Dencrypt:a}=(0,o.rL)({key:"12345678"}),[i]=(0,u.$)(""),d=(0,t.Fl)(()=>{var e;return null===(e=c.encrypt)||void 0===e?void 0:e.call(c,i.value)}),c={decrypt:a,encrypt:l,fetchPlaintext:async e=>new Promise(e=>{setTimeout(()=>{console.log("模拟接口调用"),e(d.value)},1e3)}),placeholder:"*"};return(e,l)=>{let a=(0,t.up)("demo-block");return(0,t.wg)(),(0,t.j4)(a,{title:"完全自定义展示逻辑"},{default:(0,t.w5)(()=>[(0,t._)("section",T,[l[2]||(l[2]=(0,t._)("span",{class:"demo-section-desc"},"设置初始值: 加密且脱敏",-1)),(0,t.Wm)((0,t.SU)(r.gN),{label:"明文",placeholder:"请输入",modelValue:(0,t.SU)(i),"onUpdate:modelValue":l[0]||(l[0]=e=>(0,t.dq)(i)?i.value=e:null)},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(r.gN),{disabled:"",label:"密文",modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),placeholder:"输入明文, 制造密文"},null,8,["modelValue"]),(0,t.Wm)((0,t.SU)(n.V0),{preset:c,"mask-id":"maskId","mask-txt":d.value},{default:(0,t.w5)(e=>{let{showValue:l,loading:a,isPlaintextVisible:n,toggleVisibility:u}=e;return[(0,t.Wm)((0,t.SU)(f.zx),{onClick:u},{default:(0,t.w5)(()=>[(0,t._)("span",E,(0,t.zw)(l),1),a?((0,t.wg)(),(0,t.j4)((0,t.SU)(x.gb),{key:1,size:16,type:"spinner"})):((0,t.wg)(),(0,t.j4)((0,t.SU)(U.JO),{key:0,size:16,name:n?"eye":"browsing-history"},null,8,["name"]))]),_:2},1032,["onClick"])]}),_:1},8,["mask-txt"])])]),_:1})}}}),W=(0,c.default)(I,[["__scopeId","data-v-713507cc"]]),F=(0,t.aZ)({__name:"index",setup:e=>(e,l)=>((0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(s),(0,t.Wm)(p),(0,t.Wm)(y),(0,t.Wm)(_),(0,t.Wm)(V),(0,t.Wm)(W)],64))}),P=(0,c.default)(F,[["__scopeId","data-v-1582e87f"]])},798:function(e,l,a){let t,n,u,r,o,i,d,c,s;a.d(l,{$:function(){return p}});var v,m=a(2885);function p(e){let l=(0,m.iH)(e);return[l,e=>{l.value=e}]}Symbol("GLOBAL_OPTIONS_PROVIDE_KEY");let f=e=>Array.isArray(e),h=e=>null!==e&&"object"==typeof e,w=e=>e instanceof Function,y=e=>null==e,g=typeof window>"u",k=()=>{var e;return!!(g||y(null===(e=window.document)||void 0===e?void 0:e.visibilityState))||"visible"===window.document.visibilityState},_=()=>{var e,l;return null===(e=!g&&(null===(l=window.navigator)||void 0===l?void 0:l.onLine))||void 0===e||e},S=e=>(0,m.dq)(e)?e.value:e,b=new Map,V=e=>y(e)?void 0:b.get(e),U=(e,l,a)=>{let t=b.get(e);null!=t&&t.timer&&clearTimeout(t.timer);let n=setTimeout(()=>b.delete(e),l);b.set(e,{...a,timer:n})};function x(e,l,a){let t,n,u,r,o,i,d=0,c=!1,s=!1,v=!0,m=!l&&0!==l&&"function"==typeof window.requestAnimationFrame;if("function"!=typeof e)throw TypeError("Expected a function");function p(l){let a=t,u=n;return t=n=void 0,d=l,r=e.apply(u,a)}function f(e,l){return m?(window.cancelAnimationFrame(o),window.requestAnimationFrame(e)):setTimeout(e,l)}l=+l||0,h(a)&&(c=!!a.leading,u=(s="maxWait"in a)?Math.max(+a.maxWait||0,l):u,v="trailing"in a?!!a.trailing:v);function w(e){let a=e-i,t=e-d;return void 0===i||a>=l||a<0||s&&t>=u}function y(){let e=Date.now();if(w(e))return g(e);o=f(y,function(e){let a=e-i,t=e-d,n=l-a;return s?Math.min(n,u-t):n}(e))}function g(e){return o=void 0,v&&t?p(e):(t=n=void 0,r)}function k(){let e=Date.now(),a=w(e);for(var u,v=arguments.length,m=Array(v),h=0;h<v;h++)m[h]=arguments[h];if(t=m,n=this,i=e,a){if(void 0===o){;return d=u=i,o=f(y,l),c?p(u):r}if(s)return o=f(y,l),p(i)}return void 0===o&&(o=f(y,l)),r}return k.cancel=function(){void 0!==o&&function(e){if(m)return window.cancelAnimationFrame(e);clearTimeout(e)}(o),d=0,t=i=n=o=void 0},k.flush=function(){return void 0===o?r:g(Date.now())},k.pending=function(){return void 0!==o},k}t=(e,l)=>{let{debounceInterval:a,debounceOptions:t,manual:n}=l,u=(0,m.iH)(!1),r=(0,m.iH)(),o=(0,m.Fl)(()=>t),i=(0,m.Fl)(()=>S(a)),d=(0,m.iH)(e.context.runAsync);return n||(u.value=!0),(0,m.m0)(l=>{y(i.value)||(r.value=x(e=>e(),i.value,o.value),e.context.runAsync=function(){for(var e=arguments.length,l=Array(e),a=0;a<e;a++)l[a]=arguments[a];return new Promise((e,a)=>{u.value?(u.value=!1,d.value(...l).then(e).catch(a)):r.value(()=>{d.value(...l).then(e).catch(a)})})},l(()=>{var l;null===(l=r.value)||void 0===l||l.cancel(),e.context.runAsync=d.value}))}),{onCancel(){var e;null===(e=r.value)||void 0===e||e.cancel()}}},n=(e,l)=>{let{errorRetryCount:a=0,errorRetryInterval:t=0}=l,n=(0,m.iH)(),u=(0,m.iH)(0),r=(0,m.Fl)(()=>S(a)),o=(0,m.Fl)(()=>S(t)),i=!1,d=()=>{u.value=0},c=(0,m.Fl)(()=>o.value?o.value:1e3*Math.floor(Math.random()*2**Math.min(u.value,9)+1)),s=()=>{let l;let a=-1===r.value,t=u.value<r.value;return(a||t)&&(a||(u.value+=1),l=setTimeout(()=>{i=!0,e.context.refresh()},c.value)),()=>l&&clearTimeout(l)},v=()=>{n.value&&n.value()};return{onBefore(){i||d(),i=!1,v()},onSuccess(){d()},onError(){n.value=s()},onCancel(){d(),v()}}},u=(e,l)=>{let{ready:a=(0,m.iH)(!0),manual:t,defaultParams:n=[]}=l;return(0,m.YP)(a,l=>{!t&&l&&e.context.run(...n)},{flush:"sync"}),{onBefore(){if(!(w(a)?a():a.value))return e.loading.value=!1,{isBreak:!0}}}},r=(e,l)=>{let{refreshDeps:a,refreshDepsAction:t,manual:n}=l;if(void 0===a||f(a)&&0===a.length)return{};let u=f(a)?a:[a];return(0,m.YP)(u,()=>{t?t():n||e.context.refresh()}),{}},o=(e,l)=>{let{throttleInterval:a,throttleOptions:t}=l,n=(0,m.iH)(),u=(0,m.Fl)(()=>S(a)),r=(0,m.Fl)(()=>t),o=(0,m.iH)(e.context.runAsync);return(0,m.m0)(l=>{if(y(a))return{};n.value=function(e,l,a){let t=!0,n=!0;if("function"!=typeof e)throw TypeError("Expected a function");return h(a)&&(t="leading"in a?!!a.leading:t,n="trailing"in a?!!a.trailing:n),x(e,l,{leading:t,trailing:n,maxWait:l})}(e=>e(),u.value,r.value),e.context.runAsync=function(){for(var e=arguments.length,l=Array(e),a=0;a<e;a++)l[a]=arguments[a];return new Promise((e,a)=>{n.value(()=>{o.value(...l).then(e).catch(a)})})},l(()=>{var l;null===(l=n.value)||void 0===l||l.cancel(),e.context.runAsync=o.value})}),{onCancel(){var e;null===(e=n.value)||void 0===e||e.cancel()}}};let T=new Map,E=(e,l)=>{T.set(e,l),l.then(l=>(T.delete(e),l)).catch(()=>{T.delete(e)})},I=e=>T.get(e),W=new Map,F=(e,l)=>{W.has(e)&&W.get(e).forEach(e=>e(l))},P=(e,l)=>(W.has(e)?W.get(e).push(l):W.set(e,[l]),()=>{let a=W.get(e).indexOf(l);W.get(e).splice(a,1)});i=(e,l)=>{let a,{cacheKey:t,cacheTime:n=6e5,staleTime:u=0,getCache:r,setCache:o}=l;if(!t)return{};let i=w(t)?t:()=>t,d=(0,m.iH)(()=>{}),c=e=>r?r(e):V(e),s=(e,l,a)=>{o?o(e,a):U(e,l,a),F(e,a.data)},v=e=>-1===u||e+u>new Date().getTime(),p=(e,l)=>Object.prototype.hasOwnProperty.call(e,l),f=l=>P(i(l),l=>{e.data.value=l}),h=i(),y=c(h);return y&&p(y,"data")&&(e.data.value=y.data,e.params.value=y.params),h&&(d.value=f()),(0,m.SK)(()=>{d.value()}),{onBefore(l){let a=c(i(l));return a&&p(a,"data")?v(a.time)?(e.data.value=a.data,e.loading.value=!1,{isBreak:!0,breakResult:a.data}):void(e.data.value=a.data):{}},onQuery(l){let t=i(e.params.value),n=I(t);return n&&n!==a||(a=n=l(),E(t,n)),()=>n},onSuccess(e,l){let a=i(l);a&&(d.value(),s(a,n,{data:e,params:l,time:new Date().getTime()}),d.value=f(l))},onMutate(l){let a=i(e.params.value);a&&(d.value(),s(a,n,{data:l,params:e.params.value,time:new Date().getTime()}),d.value=f(e.params.value))}}};function C(){return new Date().getTime()}d=(e,l)=>{let{loadingDelay:a=0,loadingKeep:t=0}=l,n=(0,m.iH)(()=>{}),u=(0,m.Fl)(()=>S(a)),r=(0,m.Fl)(()=>S(t)),o=0,i={},d=()=>{let l;return u.value&&(l=setTimeout(()=>{"pending"===e.status.value&&(e.loading.value=!0)},u.value)),()=>l&&clearTimeout(l)};return{onBefore(){e.loading.value=!u.value,n.value(),n.value=d(),o=C()},onQuery(e){var l;let a,t;if(!r.value)return()=>e();l=r.value+u.value,i=new class e extends Promise{constructor(e){super(e),this.cancel=()=>{t(),clearTimeout(a)}}}(e=>{a=setTimeout(t=e,l)});let n=Promise.allSettled([(async()=>{try{let l=await e();return C()-o<=u.value&&i.cancel(),Promise.resolve(l)}catch(e){return C()-o<=u.value&&i.cancel(),Promise.reject(e)}})(),i]).then(e=>{let l=e[0];return"fulfilled"===l.status?l.value:Promise.reject(l.reason)});return()=>n},onCancel(){n.value()},onAfter(){n.value()}}};let L=new Set,N=new Set,A=new Set,O=(e,l)=>{let a;switch(e){case"FOCUS_LISTENER":a=L;break;case"RECONNECT_LISTENER":a=A;break;case"VISIBLE_LISTENER":a=N}if(!a.has(l))return a.add(l),()=>{a.delete(l)}},H=e=>{e.forEach(e=>{e()})};!g&&null!==(v=window)&&void 0!==v&&v.addEventListener&&(window.addEventListener("visibilitychange",()=>{k()&&H(N)},!1),window.addEventListener("focus",()=>H(L),!1),window.addEventListener("online",()=>H(A),!1));c=(e,l)=>{let{pollingInterval:a,pollingWhenHidden:t=!1,pollingWhenOffline:n=!1,errorRetryCount:u=0}=l,r=(0,m.iH)(),o=(0,m.iH)(!1),i=(0,m.Fl)(()=>S(a)),d=(0,m.Fl)(()=>S(u)),c=[],s=e=>{e&&c.push(e)},v=()=>(t||k())&&(n||_()),p=l=>{let a;if(!e.error.value||0===d.value){if(!y(i.value)&&i.value>=0){if(v())a=setTimeout(l,i.value);else{o.value=!0;return}}return()=>a&&clearTimeout(a)}},f=()=>{o.value&&v()&&(e.context.refresh(),o.value=!1)};return(0,m.YP)(i,()=>{r.value&&(r.value(),r.value=p(()=>e.context.refresh()))}),t||s(O("VISIBLE_LISTENER",f)),n||s(O("RECONNECT_LISTENER",f)),(0,m.SK)(()=>{c.forEach(e=>e())}),{onBefore(){var e;null===(e=r.value)||void 0===e||e.call(r)},onCancel(){var e;null===(e=r.value)||void 0===e||e.call(r)},onAfter(){r.value=p(()=>e.context.refresh())}}};let R=(e,l)=>{let a=!1;return function(){a||(a=!0,e(...arguments),setTimeout(()=>{a=!1},l))}};s=(e,l)=>{let{refreshOnWindowFocus:a=!1,refocusTimespan:t=5e3}=l,n=(0,m.Fl)(()=>S(a)),u=(0,m.Fl)(()=>S(t)),r=[],o=e=>{e&&r.push(e)},i=()=>{r.forEach(e=>e())};return(0,m.m0)(()=>{if(i(),n.value){let l=R(e.context.refresh,u.value);o(O("VISIBLE_LISTENER",l)),o(O("FOCUS_LISTENER",l))}}),(0,m.SK)(()=>{i()}),{}}}}]);